"use strict";(()=>{var e={};e.id=7815,e.ids=[7815,6511],e.modules={11185:e=>{e.exports=require("mongoose")},47849:e=>{e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},84606:(e,t,r)=>{r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>l});var n=r(50482),i=r(69108),a=r(62563),o=r.n(a),s=r(68300),d={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);r.d(t,d);let l=["",{children:["vendor",{children:["rooms",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64950)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\rooms\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,91228)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\rooms\\[id]\\edit\\page.tsx"],u="/vendor/rooms/[id]/edit/page",c={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/vendor/rooms/[id]/edit/page",pathname:"/vendor/rooms/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},64950:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(25036),i=r(867),a=r(56511),o=r(71309),s=r(91503);async function d(e){await (0,a.default)();let t=await o.d.findById(e);return t?JSON.parse(JSON.stringify(t)):null}async function l({params:e}){let t=await d(e.id);return t||(0,i.notFound)(),n.jsx("div",{className:"py-8",children:n.jsx(s.ZP,{mode:"edit",initialData:t})})}},56511:(e,t,r)=>{r.d(t,{default:()=>s});var n=r(11185),i=r.n(n);let a=process.env.MONGODB_URI;if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let o=global.mongoose;o||(o=global.mongoose={conn:null,promise:null});let s=async function(){if(o.conn)return o.conn;o.promise||(o.promise=i().connect(a,{bufferCommands:!1}).then(e=>e));try{o.conn=await o.promise}catch(e){throw o.promise=null,e}return o.conn}},71309:(e,t,r)=>{r.d(t,{d:()=>o});var n=r(11185),i=r.n(n);let a=new(i()).Schema({hotelId:{type:i().Schema.Types.ObjectId,ref:"Hotel",required:!0,index:!0},name:{type:String,required:!0},roomType:{type:String,enum:["single","double","twin","suite","family","dormitory","standard","deluxe"]},description:String,capacity:{adults:{type:Number,default:2},children:{type:Number,default:0},extraBedAllowed:{type:Boolean,default:!1}},totalRooms:{type:Number,default:1,min:1},basePrice:{type:Number,required:!0},extraBedCharge:{type:Number,default:0},seasonalPricing:[{name:String,startDate:{type:Date,required:!0},endDate:{type:Date,required:!0},price:{type:Number,required:!0},isActive:{type:Boolean,default:!0}}],weekendPricing:{enabled:{type:Boolean,default:!0},price:Number,days:{type:[Number],default:[5,6]}},specialRates:[{date:{type:Date,required:!0},price:{type:Number,required:!0},note:String}],images:[{url:String,caption:String,isPrimary:Boolean}],amenities:[String],housekeepingStatus:{type:String,enum:["clean","dirty","maintenance","inspecting"],default:"clean"},isActive:{type:Boolean,default:!0},sortOrder:{type:Number,default:0}},{timestamps:!0});a.index({hotelId:1,isActive:1}),a.methods.getPriceForDate=function(e){let t=new Date(e);t.setHours(0,0,0,0);let r=(this.specialRates||[]).find(e=>new Date(e.date).setHours(0,0,0,0)===t.getTime());if(r)return r.price;let n=(this.seasonalPricing||[]).find(e=>e.isActive&&t>=new Date(e.startDate)&&t<=new Date(e.endDate));if(n)return n.price;let i=t.getDay();return this.weekendPricing?.enabled&&(this.weekendPricing.days||[5,6]).includes(i)&&this.weekendPricing.price||this.basePrice};let o=i().models.Room||i().model("Room",a)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,7439,6082,7217,1476,867,9224,1091,862],()=>r(84606));module.exports=n})();