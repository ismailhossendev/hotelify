"use strict";(()=>{var e={};e.id=5934,e.ids=[5934,6511],e.modules={11185:e=>{e.exports=require("mongoose")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},97811:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>b,patchFetch:()=>v,requestAsyncStorage:()=>f,routeModule:()=>g,serverHooks:()=>S,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>h});var n={};r.r(n),r.d(n,{GET:()=>p,POST:()=>c});var i=r(95419),o=r(69108),a=r(99678),s=r(98984),l=r(56511),u=r(88607),d=r(96467);async function p(e){try{await (0,l.default)();let e=await (0,d.ts)();if(!e||"super_admin"!==e.role)return s.NextResponse.json({error:"Unauthorized"},{status:401});let t=await u.l.findOne().sort({updatedAt:-1});return s.NextResponse.json({success:!0,content:t||{}})}catch(e){return s.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e){try{let t=await (0,d.ts)();if(!t||"super_admin"!==t.role)return s.NextResponse.json({error:"Unauthorized"},{status:401});await (0,l.default)();let r=await e.json(),n=await u.l.findOneAndUpdate({},{...r,updatedBy:t.userId},{upsert:!0,new:!0,sort:{updatedAt:-1}});return s.NextResponse.json({success:!0,message:"Content updated",content:n})}catch(e){return console.error("Save Error:",e),s.NextResponse.json({error:"Internal server error"},{status:500})}}let g=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/frontend/route",pathname:"/api/admin/frontend",filename:"route",bundlePath:"app/api/admin/frontend/route"},resolvedPagePath:"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\api\\admin\\frontend\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:m,serverHooks:S,headerHooks:y,staticGenerationBailout:h}=g,b="/api/admin/frontend/route";function v(){return(0,a.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:m})}},96467:(e,t,r)=>{r.d(t,{WX:()=>l,setAuthCookie:()=>u,signToken:()=>s,ts:()=>d});var n=r(46082),i=r.n(n),o=r(7439);let a=process.env.JWT_SECRET||"fallback-secret-key-change-me";function s(e,t="6h"){return i().sign(e,a,{expiresIn:t})}function l(e){try{return i().verify(e,a)}catch(e){return null}}function u(e,t=21600){(0,o.cookies)().set("auth_token",e,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:t,path:"/"})}async function d(){let e=function(){let e=(0,o.cookies)();return e.get("auth_token")?.value}();return e?l(e):null}},56511:(e,t,r)=>{r.d(t,{default:()=>s});var n=r(11185),i=r.n(n);let o=process.env.MONGODB_URI;if(!o)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let s=async function(){if(a.conn)return a.conn;a.promise||(a.promise=i().connect(o,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},88607:(e,t,r)=>{r.d(t,{l:()=>a});var n=r(11185),i=r.n(n);let o=new(i()).Schema({hero:{title:{type:String,default:"Find your perfect stay"},subtitle:{type:String,default:"Search hundreds of hotels, resorts, and vacation rentals for your next trip."},backgroundImage:{type:String,default:""}},featured:{title:{type:String,default:"Trending Destinations"},subtitle:{type:String,default:"Most popular choices for travelers"},hotels:[{type:i().Schema.Types.ObjectId,ref:"Hotel"}],hotelIds:[{type:i().Schema.Types.ObjectId,ref:"Hotel"}]},categories:{enabled:{type:Boolean,default:!0},title:{type:String,default:"Browse by Category"},subtitle:{type:String,default:"Find the perfect accommodation for your travel style"},items:[{id:String,name:String,description:String,icon:String,color:String}]},destinations:{enabled:{type:Boolean,default:!0},title:{type:String,default:"Popular Destinations"},subtitle:{type:String,default:"Discover the most sought-after travel destinations"},items:[{name:String,image:String,hotelCount:Number,startingPrice:Number}]},offers:{enabled:{type:Boolean,default:!0},title:{type:String,default:"Exclusive Offers & Deals"},subtitle:{type:String,default:"Grab amazing discounts and save on your next booking"},items:[{title:String,discount:String,description:String,promoCode:String,validUntil:String,bgColor:String,image:String}]},testimonials:{enabled:{type:Boolean,default:!0},title:{type:String,default:"What Our Guests Say"},subtitle:{type:String,default:"Hear from travelers who made unforgettable memories"},items:[{name:String,location:String,avatar:String,rating:Number,hotel:String,review:String}]},features:[{title:String,description:String,icon:String}],header:{contact:{phone:{type:String,default:"+880 1700-000000"},email:{type:String,default:"info@hotelify.com"}},navigation:[{label:String,href:String}],topBarLinks:[{label:String,href:String}]},footer:{description:{type:String,default:"Discover and book the best hotels across Bangladesh. Your comfort is our priority."},socialLinks:{facebook:{type:String,default:"https://facebook.com"},twitter:{type:String,default:"https://twitter.com"},instagram:{type:String,default:"https://instagram.com"},linkedin:{type:String,default:"https://linkedin.com"}},quickLinks:[{label:String,href:String}],supportLinks:[{label:String,href:String}],copyrightText:{type:String,default:"\xa9 2024 Hotelify. All rights reserved."}},updatedBy:{type:i().Schema.Types.ObjectId,ref:"User"}},{timestamps:!0});i().models.SiteConfig&&delete i().models.SiteConfig;let a=i().model("SiteConfig",o)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,7439,6082,2791],()=>r(97811));module.exports=n})();