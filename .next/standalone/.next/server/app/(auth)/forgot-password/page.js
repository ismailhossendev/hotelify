(()=>{var e={};e.id=9985,e.ids=[9985],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71552:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(50482),a=r(69108),n=r(62563),o=r.n(n),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(auth)",{children:["forgot-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68316)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\(auth)\\forgot-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,84295)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\(auth)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\(auth)\\forgot-password\\page.tsx"],u="/(auth)/forgot-password/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/forgot-password/page",pathname:"/forgot-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},24516:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},45136:(e,t,r)=>{Promise.resolve().then(r.bind(r,34755))},16306:(e,t,r)=>{Promise.resolve().then(r.bind(r,81461))},35303:()=>{},73098:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(3729),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:c,...u},m)=>(0,s.createElement)("svg",{ref:m,...a,width:o,height:o,stroke:r,strokeWidth:l?24*Number(i)/Number(o):i,className:["lucide",`lucide-${n(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},63024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1222:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},53148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},40839:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},56389:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},71206:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},65719:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(73098).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},56506:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(61476),a=r.n(s)},8428:(e,t,r)=>{"use strict";var s=r(14767);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},81461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(95344),a=r(3729),n=r(56506),o=r(8428),i=r(65719),l=r(71206),d=r(56389),c=r(40839),u=r(47958),m=r(1222),p=r(53148),f=r(63024);function h(){let e=(0,o.useRouter)(),t=(0,o.useSearchParams)(),[r,h]=(0,a.useState)("EMAIL"),[x,y]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[P,k]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[_,Z]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=t.get("email"),r=t.get("otp"),s=t.get("autoverify");e&&(y(e),h(e=>"EMAIL"===e?"OTP":e)),r&&b(r),e&&r&&"true"===s&&(async()=>{E(!0);try{let t=await fetch("/api/auth/forgot-password/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:r})}),s=await t.json();if(!t.ok)throw Error(s.error||"Invalid OTP");h("PASSWORD")}catch(e){Z(e.message||"Auto-verification failed: Invalid Link")}finally{E(!1)}})()},[t]);let A=async e=>{e.preventDefault(),E(!0),Z("");try{let e=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x})}),t=await e.json();if(!e.ok){if(404===e.status)Z(t.error||"Account not found. Please create a new account.");else throw Error(t.error||"Something went wrong");return}h("OTP")}catch(e){Z(e.message)}finally{E(!1)}},O=async e=>{e.preventDefault(),E(!0),Z("");try{let e=await fetch("/api/auth/forgot-password/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,otp:g})}),t=await e.json();if(!e.ok)throw Error(t.error||"Invalid OTP");h("PASSWORD")}catch(e){Z(e.message)}finally{E(!1)}},C=async t=>{if(t.preventDefault(),v!==j){Z("Passwords do not match");return}if(v.length<6){Z("Password must be at least 6 characters");return}E(!0),Z("");try{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,otp:g,password:v})}),r=await t.json();if(!t.ok)throw Error(r.error||"Reset failed");e.push("/login?reset=success")}catch(e){Z(e.message)}finally{E(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 font-sans",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 relative mb-4",children:s.jsx("img",{src:"/logo.png",alt:"Hotelify",className:"w-full h-full object-contain"})}),(0,s.jsxs)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900",children:["EMAIL"===r&&"Forgot password?","OTP"===r&&"Check your email","PASSWORD"===r&&"Set new password"]}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["EMAIL"===r&&"Enter your email to receive a verification code.","OTP"===r&&`We sent a 6-digit code to ${x}.`,"PASSWORD"===r&&"Secure your account with a new password."]})]}),(0,s.jsxs)("div",{className:"bg-white py-8 px-4 shadow-xl shadow-gray-200/50 border border-gray-100 sm:rounded-2xl sm:px-10",children:[_&&(0,s.jsxs)("div",{className:"rounded-lg bg-red-50 p-4 mb-6 border border-red-100 flex gap-3 text-red-700 text-sm",children:[s.jsx(i.Z,{className:"h-5 w-5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[_," ",_.includes("not found")&&s.jsx(n.default,{href:"/register",className:"underline font-bold ml-1",children:"Create account"})]})]}),"EMAIL"===r&&(0,s.jsxs)("form",{className:"space-y-6",onSubmit:A,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 pb-1",children:"Email address"}),(0,s.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(l.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",type:"email",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email",value:x,onChange:e=>y(e.target.value)})]})]}),s.jsx("button",{type:"submit",disabled:S,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:S?s.jsx(d.Z,{className:"h-5 w-5 animate-spin"}):"Send Code"})]}),"OTP"===r&&(0,s.jsxs)("form",{className:"space-y-6",onSubmit:O,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 pb-1",children:"Verification Code"}),(0,s.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(c.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",required:!0,maxLength:6,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 sm:text-sm tracking-widest font-mono text-lg",placeholder:"000000",value:g,onChange:e=>b(e.target.value.replace(/[^0-9]/g,""))})]})]}),s.jsx("button",{type:"submit",disabled:S,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:S?s.jsx(d.Z,{className:"h-5 w-5 animate-spin"}):"Verify Code"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>h("EMAIL"),className:"text-sm text-blue-600 hover:underline",children:"Wrong email? Go back"})})]}),"PASSWORD"===r&&(0,s.jsxs)("form",{className:"space-y-6",onSubmit:C,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 pb-1",children:"New Password"}),(0,s.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(u.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:P?"text":"password",required:!0,minLength:6,className:"block w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"••••••••",value:v,onChange:e=>w(e.target.value)}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",onClick:()=>k(!P),children:P?s.jsx(m.Z,{className:"h-5 w-5"}):s.jsx(p.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 pb-1",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(u.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:P?"text":"password",required:!0,minLength:6,className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"••••••••",value:j,onChange:e=>N(e.target.value)})]})]}),s.jsx("button",{type:"submit",disabled:S,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:S?s.jsx(d.Z,{className:"h-5 w-5 animate-spin"}):"Reset Password"})]}),"EMAIL"===r&&s.jsx("div",{className:"text-center mt-6",children:(0,s.jsxs)(n.default,{href:"/login",className:"flex items-center justify-center text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors",children:[s.jsx(f.Z,{className:"h-4 w-4 mr-1"})," Back to log in"]})})]})]})})}function x(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(d.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}),children:s.jsx(h,{})})}},48096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return s},isDynamicServerError:function(){return a}});let r="DYNAMIC_SERVER_USAGE";class s extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isStaticGenBailoutError:function(){return i},staticGenerationBailout:function(){return d}});let s=r(48096),a=r(45869),n="NEXT_STATIC_GEN_BAILOUT";class o extends Error{constructor(...e){super(...e),this.code=n}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}function l(e,t){let{dynamic:r,link:s}=t||{};return"Page"+(r?' with `dynamic = "'+r+'"`':"")+" couldn't be rendered statically because it used `"+e+"`."+(s?" See more info here: "+s:"")}let d=(e,t)=>{let{dynamic:r,link:n}=void 0===t?{}:t,i=a.staticGenerationAsyncStorage.getStore();if(!i)return!1;if(i.forceStatic)return!0;if(i.dynamicShouldError)throw new o(l(e,{link:n,dynamic:null!=r?r:"error"}));let d=l(e,{dynamic:r,link:"https://nextjs.org/docs/messages/dynamic-server-error"});if(null==i.postpone||i.postpone.call(i,e),i.revalidate=0,i.isStaticGeneration){let t=new s.DynamicServerError(d);throw i.dynamicUsageDescription=e,i.dynamicUsageStack=t.stack,t}return!1};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,r(86843).createProxy)(String.raw`C:\Users\ismai\.gemini\antigravity\playground\primal-supernova\src\app\(auth)\forgot-password\page.tsx`),{__esModule:a,$$typeof:n}=s,o=s.default},84295:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(25036);function a({children:e}){return s.jsx(s.Fragment,{children:e})}},21342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(25036),a=r(18241),n=r.n(a),o=r(91853),i=r.n(o);r(5023);var l=r(27171);let d={title:"Hotelify - Kuakata's Best Hotel Management",description:"Simplifying hospitality for Kuakata and beyond."};function c({children:e}){return s.jsx("html",{lang:"bn",children:(0,s.jsxs)("body",{className:`${n().variable} ${i().variable} font-sans bg-gray-50`,children:[e,s.jsx(l.x7,{position:"top-center"})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,7217,1476],()=>r(71552));module.exports=s})();