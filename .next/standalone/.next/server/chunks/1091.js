exports.id=1091,exports.ids=[1091],exports.modules={24516:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},38682:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23)),Promise.resolve().then(r.bind(r,75396))},45136:(e,t,r)=>{Promise.resolve().then(r.bind(r,34755))},63024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(73098).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},23485:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(73098).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8428:(e,t,r)=>{"use strict";var a=r(14767);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},75396:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(95344),s=r(23485),n=r(63024),i=r(8428),l=r(3729);function o({isImpersonating:e}){let t=(0,i.useRouter)(),[r,o]=(0,l.useState)(!1);if(!e)return null;let d=async()=>{o(!0);try{let e=await fetch("/api/admin/end-impersonation",{method:"POST"}),r=await e.json();r.success?(t.push("/admin/dashboard"),t.refresh()):alert("Failed to return: "+r.error)}catch(e){alert("Error ending session")}finally{o(!1)}};return(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 px-4 flex items-center justify-between shadow-lg mb-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(s.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"You are viewing this dashboard as a hotel owner (Impersonation Mode)"})]}),(0,a.jsxs)("button",{onClick:d,disabled:r,className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-1.5 rounded-lg font-medium transition-colors disabled:opacity-50",children:[a.jsx(n.Z,{className:"h-4 w-4"}),r?"Returning...":"Return to Admin Panel"]})]})}},7141:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(99365).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},21342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var a=r(25036),s=r(18241),n=r.n(s),i=r(91853),l=r.n(i);r(5023);var o=r(27171);let d={title:"Hotelify - Kuakata's Best Hotel Management",description:"Simplifying hospitality for Kuakata and beyond."};function c({children:e}){return a.jsx("html",{lang:"bn",children:(0,a.jsxs)("body",{className:`${n().variable} ${l().variable} font-sans bg-gray-50`,children:[e,a.jsx(o.x7,{position:"top-center"})]})})}},91228:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(25036),s=r(96467),n=r(867),i=r(16274),l=r(7141),o=r(99365);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),c=(0,o.Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),h=(0,o.Z)("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),u=(0,o.Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),m=(0,o.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),x=(0,o.Z)("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);var p=r(66506),y=r(78953),f=r(68631);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,o.Z)("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),g=(0,r(86843).createProxy)(String.raw`C:\Users\ismai\.gemini\antigravity\playground\primal-supernova\src\components\ImpersonationBanner.tsx`),{__esModule:v,$$typeof:k}=g,j=g.default;async function w({children:e}){let t=await (0,s.ts)();t||(0,n.redirect)("/login"),t.role.includes("vendor")||"super_admin"===t.role||(0,n.redirect)("/");let o=!!t.hotelId||"super_admin"===t.role;if(t.hotelId){let{Hotel:e}=await r.e(6214).then(r.bind(r,6214)),{default:s}=await r.e(6511).then(r.bind(r,56511));await s();let n=await e.findById(t.hotelId).select("isActive");if(n&&!n.isActive)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-center space-y-4 max-w-md bg-white p-8 rounded-2xl shadow-xl border border-red-100",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(l.Z,{className:"h-8 w-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Suspended"}),a.jsx("p",{className:"text-gray-500",children:"Your vendor account has been suspended by the administrator. You cannot access the dashboard at this time."}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Need help?"}),a.jsx(i.default,{href:"/support",className:"text-blue-600 font-medium hover:underline",children:"Contact Support"})]}),a.jsx("div",{className:"pt-2",children:a.jsx(i.default,{href:"/api/auth/logout",className:"text-sm text-red-500 hover:underline",children:"Sign Out"})})]})})}let g=[{label:"Dashboard",href:"/vendor/dashboard",icon:d},{label:"Bookings",href:"/vendor/bookings",icon:c},{label:"Rooms",href:"/vendor/rooms",icon:h},{label:"Offers",href:"/vendor/offers",icon:u},{label:"POS & Orders",href:"/vendor/pos",icon:m},{label:"Housekeeping",href:"/vendor/housekeeping",icon:x},{label:"Settings",href:"/vendor/settings",icon:p.Z},{label:"Support",href:"/vendor/support",icon:y.Z}];return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg border-r border-gray-200 hidden md:flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 relative",children:a.jsx("img",{src:"/logo.png",alt:"Hotelify",className:"w-full h-full object-contain"})}),a.jsx("span",{className:"font-bold text-xl tracking-tight text-gray-900",children:"Hotelify"})]}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:g.map(e=>(0,a.jsxs)(i.default,{href:o?e.href:"#",className:`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors
                                ${o?"text-gray-600 hover:bg-gray-50 hover:text-blue-600":"text-gray-300 cursor-not-allowed"}`,children:[a.jsx(e.icon,{className:"h-5 w-5"}),e.label]},e.href))}),a.jsx("div",{className:"p-4 border-t bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold",children:t.role[0].toUpperCase()}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Vendor Admin"}),(0,a.jsxs)(i.default,{href:"/api/auth/logout",className:"text-xs text-red-500 hover:underline flex items-center gap-1",children:[a.jsx(f.Z,{className:"h-3 w-3"})," Sign Out"]})]})]})})]}),(0,a.jsxs)("main",{className:"flex-1 md:ml-64 p-8 relative",children:[a.jsx(j,{isImpersonating:!!t.impersonatedBy}),!o&&a.jsx("div",{className:"absolute inset-0 z-40 bg-white/80 backdrop-blur-sm flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center border",children:[a.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(b,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Complete Your Setup"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"You need to create your hotel profile before you can access the dashboard features."}),a.jsx(i.default,{href:"/onboarding",className:"inline-block bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Create Your Hotel"})]})}),e]})]})}},96467:(e,t,r)=>{"use strict";r.d(t,{WX:()=>o,setAuthCookie:()=>d,signToken:()=>l,ts:()=>c});var a=r(46082),s=r.n(a),n=r(7439);let i=process.env.JWT_SECRET||"fallback-secret-key-change-me";function l(e,t="6h"){return s().sign(e,i,{expiresIn:t})}function o(e){try{return s().verify(e,i)}catch(e){return null}}function d(e,t=21600){(0,n.cookies)().set("auth_token",e,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:t,path:"/"})}async function c(){let e=function(){let e=(0,n.cookies)();return e.get("auth_token")?.value}();return e?o(e):null}},5023:()=>{}};