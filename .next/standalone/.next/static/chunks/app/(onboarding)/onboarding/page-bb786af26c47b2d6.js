(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6358],{85461:function(e,t,s){Promise.resolve().then(s.bind(s,10723))},70843:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,l.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:u,...c},m)=>(0,l.createElement)("svg",{ref:m,...a,width:n,height:n,stroke:s,strokeWidth:o?24*Number(i)/Number(n):i,className:["lucide",`lucide-${r(e)}`,d].join(" "),...c},[...t.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return s.displayName=`${e}`,s}},37451:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},93193:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},79580:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47907:function(e,t,s){"use strict";var l=s(15313);s.o(l,"notFound")&&s.d(t,{notFound:function(){return l.notFound}}),s.o(l,"useParams")&&s.d(t,{useParams:function(){return l.useParams}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},10723:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var l=s(57437),a=s(2265),r=s(47907),n=s(93193),i=s(37451),o=s(79580);function d(){let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),[c,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[x,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(null),[y,j]=(0,a.useState)(null),[v,N]=(0,a.useState)({name:"",slug:"",email:"",phone:""});(0,a.useEffect)(()=>{fetch("/api/plans").then(e=>e.json()).then(e=>{e.plans&&m(e.plans)}),fetch("/api/public/destinations").then(e=>e.json()).then(e=>{e.destinations&&p(e.destinations)})},[]);let w=async t=>{t.preventDefault(),s(!0),u("");let l=c.find(e=>"basic"===e.slug)||c[0];if(!l){u("No subscription plans available. Please contact support."),s(!1);return}try{let t=await fetch("/api/hotels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name,slug:v.slug||v.name.toLowerCase().replace(/ /g,"-"),planId:l._id,destinationId:x,documents:g?[{type:"other",url:g,verified:!1}]:[],contact:{email:v.email,phone:v.phone,address:{city:"Bangladesh"}}})}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to create hotel");e.push("/dashboard"),e.refresh()}catch(e){u(e.message)}finally{s(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl p-6 sm:p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"h-14 w-14 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(n.Z,{className:"h-7 w-7 text-blue-600"})}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to Hotelify \uD83D\uDC4B"}),(0,l.jsx)("p",{className:"text-gray-500 mt-2 text-sm",children:"Let's set up your property profile to get started."})]}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 mb-6 text-xs",children:[(0,l.jsx)("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full",children:"✓ 14-day free trial"}),(0,l.jsx)("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full",children:"✓ No credit card"}),(0,l.jsx)("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full",children:"✓ Cancel anytime"})]}),d&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 text-red-600 text-sm rounded-lg",children:d}),(0,l.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Name *"}),(0,l.jsx)("input",{required:!0,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Grand Sultan",value:v.name,onChange:e=>N({...v,name:e.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,l.jsxs)("select",{required:!0,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:x,onChange:e=>f(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select Location"}),h.map(e=>(0,l.jsx)("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[(0,l.jsx)(i.Z,{className:"h-3.5 w-3.5"})," Subdomain *"]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-lg border border-r-0 bg-gray-50 text-gray-500 text-sm",children:"hotelify.com/"}),(0,l.jsx)("input",{required:!0,className:"flex-1 p-3 border rounded-r-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"grand-sultan",value:v.slug,onChange:e=>N({...v,slug:e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,l.jsx)("input",{type:"tel",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"+8801...",value:v.phone,onChange:e=>N({...v,phone:e.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,l.jsx)("input",{type:"email",required:!0,className:"w-full p-3 border rounded-lg",placeholder:"owner@hotel.com",value:v.email,onChange:e=>N({...v,email:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Documents *"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Please upload a Trade License, TIN, or Visiting Card as proof of ownership."}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsx)("input",{type:"file",accept:"image/*,.pdf",required:!0,className:"block w-full text-sm text-slate-500   file:mr-4 file:py-2 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-blue-50 file:text-blue-700   hover:file:bg-blue-100",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onloadend=()=>{let t=e.result;b(t),j(t)},e.readAsDataURL(s)}}})}),y&&(0,l.jsx)("div",{className:"mt-2 p-2 border rounded bg-slate-50 inline-block",children:(0,l.jsx)("span",{className:"text-xs text-green-600 font-bold",children:"✓ Document Selected"})})]}),(0,l.jsx)("button",{type:"submit",disabled:t||0===c.length,className:"w-full bg-blue-600 text-white py-3.5 rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-70 mt-6",children:t?(0,l.jsx)(o.Z,{className:"h-5 w-5 animate-spin"}):"Create Hotel & Start Free Trial"})]})]})})}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=85461)}),_N_E=e.O()}]);