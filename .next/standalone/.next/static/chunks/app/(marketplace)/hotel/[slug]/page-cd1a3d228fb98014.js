(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1658],{37415:function(e,s,t){Promise.resolve().then(t.t.bind(t,25250,23)),Promise.resolve().then(t.bind(t,8455)),Promise.resolve().then(t.bind(t,90857)),Promise.resolve().then(t.bind(t,5740)),Promise.resolve().then(t.bind(t,50580)),Promise.resolve().then(t.bind(t,42899))},8455:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var a=t(57437),l=t(2265),r=t(75879),i=t(34059),n=t(18025),o=t(28814),c=t(47907),d=t(56726),x=t(79173);function h(e){var s,t;let{hotel:h,basePrice:m,rooms:u}=e,g=(0,c.useRouter)(),b=(0,c.useSearchParams)(),[p,f]=(0,l.useState)(void 0),[j,v]=(0,l.useState)(void 0),[N,y]=(0,l.useState)("2"),[w,k]=(0,l.useState)(2),[S,C]=(0,l.useState)(0),[Z,P]=(0,l.useState)((null===(s=u[0])||void 0===s?void 0:s._id)||""),[R,_]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=b.get("checkIn"),s=b.get("checkOut"),t=b.get("guests");if(e&&f(new Date(e)),s&&v(new Date(s)),t&&(y(t),k(parseInt(t))),!e||!s){let a=sessionStorage.getItem("bookingParams");if(a)try{let l=JSON.parse(a);!e&&l.checkIn&&f(new Date(l.checkIn)),!s&&l.checkOut&&v(new Date(l.checkOut)),!t&&l.guests&&(y(l.guests.toString()),k(l.guests))}catch(e){console.error("Failed to parse session params",e)}}},[b]),(0,l.useEffect)(()=>{if(p||j||N){let e={checkIn:null==p?void 0:p.toISOString(),checkOut:null==j?void 0:j.toISOString(),guests:parseInt(N)};sessionStorage.setItem("bookingParams",JSON.stringify(e))}},[p,j,N]);let M=p&&j?Math.max(1,Math.ceil((j.getTime()-p.getTime())/864e5)):1,I=u.find(e=>e._id===Z)||u[0],O=(null==I?void 0:I.basePrice)||m,T=O*M;return(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl border border-white/20 shadow-2xl rounded-3xl p-6 sticky top-24 z-20",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-end justify-between border-b border-gray-100 pb-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["৳",O.toLocaleString()]}),(0,a.jsx)("span",{className:"text-gray-500 font-medium",children:"/night"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-yellow-500 font-bold bg-yellow-50 px-2 py-1 rounded-lg",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 fill-yellow-500"}),(0,a.jsx)("span",{children:h.starRating||5}),(0,a.jsxs)("span",{className:"text-gray-400 font-normal ml-1",children:["(",(null===(t=h.reviews)||void 0===t?void 0:t.length)||128,")"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Check-in"}),(0,a.jsx)(d.M,{date:p,setDate:f,placeholder:"Select Date"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Check-out"}),(0,a.jsx)(d.M,{date:j,setDate:v,placeholder:"Select Date"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Guests"}),(0,a.jsxs)(x.Ph,{value:N,onValueChange:y,children:[(0,a.jsx)(x.i4,{className:"w-full bg-white border border-gray-200 text-gray-900 text-sm rounded-xl focus:ring-blue-500 focus:border-blue-500 p-3 h-12",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)(x.ki,{placeholder:"Select Guests"})]})}),(0,a.jsxs)(x.Bw,{children:[(0,a.jsx)(x.Ql,{value:"1",children:"1 Guest"}),(0,a.jsx)(x.Ql,{value:"2",children:"2 Guests"}),(0,a.jsx)(x.Ql,{value:"3",children:"3 Guests"}),(0,a.jsx)(x.Ql,{value:"4",children:"4 Guests"}),(0,a.jsx)(x.Ql,{value:"5",children:"5+ Guests"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Room Type"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("select",{className:"w-full appearance-none bg-white border border-gray-200 text-gray-900 text-sm rounded-xl focus:ring-blue-500 focus:border-blue-500 block w-full p-3 font-medium",value:Z,onChange:e=>P(e.target.value),children:u.map(e=>(0,a.jsxs)("option",{value:e._id,children:[e.name," (+৳",((e.basePrice||0)-m).toLocaleString(),")"]},e._id))}),(0,a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,a.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),p&&j&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["৳",O.toLocaleString()," \xd7 ",M," nights"]}),(0,a.jsxs)("span",{children:["৳",T.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Service Fee"}),(0,a.jsx)("span",{children:"৳0"})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-200 flex justify-between font-bold text-gray-900",children:[(0,a.jsx)("span",{children:"Total (BDT)"}),(0,a.jsxs)("span",{children:["৳",T.toLocaleString()]})]})]}),(0,a.jsxs)("button",{onClick:()=>{_(!0);let e=u.find(e=>e._id===Z)||u[0],s=p&&j?Math.max(1,Math.ceil((j.getTime()-p.getTime())/864e5)):1,t=(null==e?void 0:e.basePrice)||m,a={hotel:h,room:e,checkIn:null==p?void 0:p.toISOString(),checkOut:null==j?void 0:j.toISOString(),guests:parseInt(N),nights:s,totalPrice:t*s};sessionStorage.setItem("pendingBooking",JSON.stringify(a)),g.push("/checkout")},disabled:R,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[R?"Processing...":"Reserve Now",!R&&(0,a.jsx)(n.Z,{className:"h-5 w-5"})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-start gap-2 text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),(0,a.jsx)("p",{children:"You won't be charged yet. Free cancellation up to 24 hours before check-in."})]})]})}},90857:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(57437),l=t(2265),r=t(52235),i=t(49108),n=t(37805),o=t(74395),c=t(96396);function d(e){let{images:s,initialIndex:t=0,isOpen:d,onClose:x,hotelName:h="Hotel"}=e,[m,u]=(0,l.useState)(t),[g,b]=(0,l.useState)(1);(0,l.useEffect)(()=>{u(t),b(1)},[t,d]),(0,l.useEffect)(()=>{if(!d)return;let e=e=>{"Escape"===e.key&&x(),"ArrowLeft"===e.key&&f(),"ArrowRight"===e.key&&p()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,m]);let p=()=>{u(e=>(e+1)%s.length),b(1)},f=()=>{u(e=>(e-1+s.length)%s.length),b(1)};return d?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-black",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:h}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[m+1," / ",s.length]})]}),(0,a.jsx)("button",{onClick:x,className:"p-2 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 text-white transition-colors",children:(0,a.jsx)(r.Z,{className:"h-6 w-6"})})]})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center px-20",children:(0,a.jsx)("div",{className:"relative w-full h-full flex items-center justify-center overflow-hidden",children:(0,a.jsx)("img",{src:s[m],alt:"".concat(h," - Photo ").concat(m+1),className:"max-w-full max-h-full object-contain transition-transform duration-300",style:{transform:"scale(".concat(g,")")}})})}),s.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 text-white transition-colors",children:(0,a.jsx)(i.Z,{className:"h-8 w-8"})}),(0,a.jsx)("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 text-white transition-colors",children:(0,a.jsx)(n.Z,{className:"h-8 w-8"})})]}),(0,a.jsxs)("div",{className:"absolute bottom-6 right-6 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{b(e=>Math.max(e-.5,1))},disabled:g<=1,className:"p-2 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(o.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("span",{className:"px-4 py-2 rounded-full bg-white/10 backdrop-blur text-white text-sm font-medium",children:[Math.round(100*g),"%"]}),(0,a.jsx)("button",{onClick:()=>{b(e=>Math.min(e+.5,3))},disabled:g>=3,className:"p-2 rounded-full bg-white/10 backdrop-blur hover:bg-white/20 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(c.Z,{className:"h-5 w-5"})})]}),s.length>1&&(0,a.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10",children:(0,a.jsx)("div",{className:"flex gap-2 bg-black/60 backdrop-blur p-3 rounded-xl max-w-2xl overflow-x-auto",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>{u(s),b(1)},className:"shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ".concat(s===m?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"),children:(0,a.jsx)("img",{src:e,alt:"Thumbnail ".concat(s+1),className:"w-full h-full object-cover"})},s))})})]}):null}function x(e){let{images:s,hotelName:t}=e,[r,i]=(0,l.useState)(!1),[n,o]=(0,l.useState)(0),c=e=>{o(e),i(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"bg-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 h-[500px]",children:[(0,a.jsxs)("div",{onClick:()=>c(0),className:"col-span-4 md:col-span-2 row-span-2 relative rounded-2xl overflow-hidden group cursor-pointer",children:[(0,a.jsx)("img",{src:s[0],alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.slice(1,5).map((e,s)=>(0,a.jsxs)("div",{onClick:()=>c(s+1),className:"relative rounded-2xl overflow-hidden group hidden md:block cursor-pointer",children:[(0,a.jsx)("img",{src:e,alt:"".concat(t," ").concat(s+2),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]},s)),s.length>5&&(0,a.jsxs)("button",{onClick:()=>c(0),className:"absolute bottom-6 right-6 bg-white px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors shadow-lg",children:["View all ",s.length," photos"]})]})})}),(0,a.jsx)(d,{images:s,initialIndex:n,isOpen:r,onClose:()=>i(!1),hotelName:t})]})}},5740:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(57437),l=t(62457);function r(e){let{hotelName:s,address:t,coordinates:r}=e,{city:i,district:n,country:o,street:c}=t,d=[c,i,n,o].filter(Boolean).join(", "),x="https://www.openstreetmap.org/export/embed.html?bbox=90.3,22.3,90.5,22.5&layer=mapnik&marker=".concat((null==r?void 0:r.lat)||22.4,",").concat((null==r?void 0:r.lng)||90.4),h="https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(d));return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Location"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 text-gray-700",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-blue-600 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:d})]})]}),(0,a.jsx)("div",{className:"relative h-64 rounded-xl overflow-hidden bg-gray-100",children:(0,a.jsx)("iframe",{src:x,className:"w-full h-full",style:{border:0},loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),(0,a.jsxs)("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),"Get Directions"]})]})]})}},50580:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(57437),l=t(2265),r=t(47907),i=t(34059),n=t(21100),o=t(49783),c=t(31530),d=t(26777),x=t(60885),h=t(33571),m=t(52235),u=t(80037),g=t(62985);function b(e){var s,t,r,b,p,f;let{room:j,hotel:v,isOpen:N,onClose:y,onReserve:w}=e,[k,S]=(0,l.useState)(""),[C,Z]=(0,l.useState)(""),[P,R]=(0,l.useState)(2),[_,M]=(0,l.useState)(!1),[I,O]=(0,l.useState)(null);(0,l.useEffect)(()=>{N&&O(null)},[N]),(0,l.useEffect)(()=>{k&&C&&N&&T()},[k,C]);let T=async()=>{M(!0);try{let e=await fetch("/api/bookings/check-availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomId:j._id,checkIn:k,checkOut:C})}),s=await e.json();O(s)}catch(e){console.error("Availability check failed:",e),O({available:!1,error:"Failed to check availability"})}finally{M(!1)}},z=(null===(s=j.images)||void 0===s?void 0:s.length)>0?j.images.map(e=>e.url):[v.coverImage||"https://images.unsplash.com/photo-1611892440504-42a792e24d32?auto=format&fit=crop&q=80"],D={WiFi:c.Z,TV:d.Z,AC:x.Z,"Mini Bar":h.Z};return N?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/50 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"min-h-screen px-4 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full my-8 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative h-96 bg-gray-200",children:[(0,a.jsx)("img",{src:z[0],alt:j.name,className:"w-full h-full object-cover"}),z.length>1&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-1.5 rounded-lg text-sm font-bold",children:["1 / ",z.length]})]}),(0,a.jsx)("button",{onClick:y,className:"absolute top-4 right-4 bg-white/90 backdrop-blur p-2 rounded-full hover:bg-white transition-colors",children:(0,a.jsx)(m.Z,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:j.name}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:j.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 py-6 border-y border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Guests"}),(0,a.jsxs)("p",{className:"font-bold text-gray-900",children:[(null===(t=j.capacity)||void 0===t?void 0:t.adults)||2," Adults"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Bed"}),(0,a.jsx)("p",{className:"font-bold text-gray-900",children:j.bedType||"King"})]})]}),j.roomSize&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Size"}),(0,a.jsxs)("p",{className:"font-bold text-gray-900",children:[j.roomSize," ft\xb2"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Room Amenities"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:null===(r=j.amenities)||void 0===r?void 0:r.map((e,s)=>{let t=D[e]||u.Z;return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,a.jsx)(t,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s)})})]}),(0,a.jsx)("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-green-900 mb-1",children:"Free Cancellation"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Cancel up to ",(null===(b=v.policies)||void 0===b?void 0:b.cancellationHours)||24," hours before check-in for a full refund"]})]})]})})]}),(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-2xl space-y-4 sticky top-4",children:[(0,a.jsx)("div",{className:"pb-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["৳",null===(p=j.basePrice)||void 0===p?void 0:p.toLocaleString()]}),(0,a.jsx)("span",{className:"text-gray-500",children:"/night"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Check-in"}),(0,a.jsx)("input",{type:"date",value:k,onChange:e=>S(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Check-out"}),(0,a.jsx)("input",{type:"date",value:C,onChange:e=>Z(e.target.value),min:k||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Guests"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>R(Math.max(1,P-1)),className:"w-10 h-10 rounded bg-white border hover:bg-gray-100 flex items-center justify-center font-bold",children:"−"}),(0,a.jsx)("span",{className:"font-bold w-10 text-center",children:P}),(0,a.jsx)("button",{onClick:()=>{var e;return R(Math.min((null===(e=j.capacity)||void 0===e?void 0:e.adults)||4,P+1))},className:"w-10 h-10 rounded bg-white border hover:bg-gray-100 flex items-center justify-center font-bold",children:"+"})]})]}),_&&(0,a.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg text-sm text-blue-700",children:"Checking availability..."}),I&&!_&&(0,a.jsx)("div",{className:"p-3 rounded-lg text-sm ".concat(I.available?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[I.available?(0,a.jsx)(u.Z,{className:"h-4 w-4 shrink-0 mt-0.5"}):(0,a.jsx)(g.Z,{className:"h-4 w-4 shrink-0 mt-0.5"}),(0,a.jsx)("span",{children:I.available?"Available for ".concat(I.nights," nights"):I.message||"Not available for selected dates"})]})}),(null==I?void 0:I.available)&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["৳",null===(f=j.basePrice)||void 0===f?void 0:f.toLocaleString()," \xd7 ",I.nights," nights"]}),(0,a.jsxs)("span",{className:"font-bold",children:["৳",(j.basePrice*I.nights).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{children:["৳",(j.basePrice*I.nights).toLocaleString()]})]})]}),(0,a.jsx)("button",{onClick:()=>{(null==I?void 0:I.available)&&w&&w({room:j,hotel:v,checkIn:k,checkOut:C,guests:P,nights:I.nights,totalPrice:j.basePrice*I.nights})},disabled:!(null==I?void 0:I.available)||_,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl transition-colors",children:"Reserve Now"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"You won't be charged yet"})]})})]})})]})})}):null}function p(e){let{rooms:s,hotel:t}=e,i=(0,r.useRouter)(),[n,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),x=e=>{o(e),d(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Rooms"}),(0,a.jsx)("div",{className:"space-y-4",children:s.length>0?s.map(e=>(0,a.jsx)(f,{room:e,hotel:t,onReserveClick:()=>x(e)},e._id)):(0,a.jsx)("div",{className:"bg-white p-12 rounded-2xl border border-gray-200 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No rooms available at this time."})})})]}),n&&(0,a.jsx)(b,{room:n,hotel:t,isOpen:c,onClose:()=>d(!1),onReserve:e=>{sessionStorage.setItem("pendingBooking",JSON.stringify(e)),i.push("/checkout")}})]})}function f(e){var s,t,l,r,c,d,x;let{room:h,hotel:m,onReserveClick:u}=e,g=(null===(t=h.images)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.url)||m.coverImage||"https://images.unsplash.com/photo-1611892440504-42a792e24d32?auto=format&fit=crop&q=80";return(0,a.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 p-6",children:[(0,a.jsx)("div",{className:"relative h-48 md:h-full rounded-xl overflow-hidden cursor-pointer",onClick:u,children:(0,a.jsx)("img",{src:g,alt:h.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"md:col-span-2 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:h.name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:h.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[(null===(l=h.capacity)||void 0===l?void 0:l.adults)||2," Adults, ",(null===(r=h.capacity)||void 0===r?void 0:r.children)||1," Child"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:h.bedType||"King Bed"})]}),h.roomSize&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[h.roomSize," sq ft"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(c=h.amenities)||void 0===c?void 0:c.slice(0,4).map((e,s)=>(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:e},s)),(null===(d=h.amenities)||void 0===d?void 0:d.length)>4&&(0,a.jsxs)("span",{className:"text-xs text-blue-600 font-medium",children:["+",h.amenities.length-4," more"]})]})]}),(0,a.jsxs)("div",{className:"flex items-end justify-between mt-6 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Starting from"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["৳",null===(x=h.basePrice)||void 0===x?void 0:x.toLocaleString()]}),(0,a.jsx)("span",{className:"text-gray-500",children:"/night"})]})]}),(0,a.jsx)("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-bold transition-colors",children:"Reserve"})]})]})]})})}},42899:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(57437),l=t(75879),r=t(97307),i=t(75707);let n=[{id:"1",guestName:"John Doe",rating:5,title:"Excellent stay!",comment:"Had a wonderful time at this hotel. The staff was friendly, rooms were clean, and the location was perfect. Highly recommend!",date:"2024-01-05",isVerified:!0,hotelReply:"Thank you for your wonderful review! We look forward to welcoming you back soon."},{id:"2",guestName:"Sarah Smith",rating:4,title:"Great experience",comment:"Really enjoyed our stay. The breakfast was excellent and the pool area was beautiful. Only minor issue was check-in took a bit long.",date:"2024-01-02",isVerified:!0},{id:"3",guestName:"Mike Johnson",rating:5,title:"Perfect vacation spot",comment:"Everything was perfect! The ocean view from our room was breathtaking. Will definitely come back.",date:"2023-12-28",isVerified:!1}];function o(e){let{hotelId:s,hotelName:t}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Guest Reviews"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:4.7}),(0,a.jsx)("div",{className:"flex items-center gap-1 justify-center mb-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)(l.Z,{className:"h-5 w-5 ".concat(e<=4.7?"fill-yellow-400 text-yellow-400":"text-gray-300")},e))}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[234," reviews"]})]})}),(0,a.jsx)("div",{className:"space-y-2",children:[{stars:5,count:180,percentage:77},{stars:4,count:40,percentage:17},{stars:3,count:10,percentage:4},{stars:2,count:3,percentage:1},{stars:1,count:1,percentage:1}].map(e=>{let{stars:s,count:t,percentage:l}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700 w-12",children:[s," star"]}),(0,a.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-yellow-400",style:{width:"".concat(l,"%")}})}),(0,a.jsx)("span",{className:"text-sm text-gray-600 w-12 text-right",children:t})]},s)})})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-bold text-gray-900",children:e.guestName}),e.isVerified&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Verified Guest"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(r.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:new Date(e.date).toLocaleDateString()})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(s=>(0,a.jsx)(l.Z,{className:"h-4 w-4 ".concat(s<=e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},s))})]}),(0,a.jsx)("h5",{className:"font-bold text-gray-900 mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.comment}),e.hotelReply&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border-l-4 border-blue-600",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-gray-900 mb-1",children:["Response from ",t]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.hotelReply})]}),(0,a.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Helpful"})]})]},e.id))}),(0,a.jsx)("button",{className:"w-full py-3 px-6 border-2 border-gray-200 rounded-xl font-bold text-gray-700 hover:border-blue-600 hover:text-blue-600 transition-colors",children:"Load More Reviews"})]})}},56726:function(e,s,t){"use strict";t.d(s,{M:function(){return w}});var a=t(57437),l=t(2265),r=t(62848),i=t(34161),n=t(41743),o=t(49685),c=t(37814),d=t(59663),x=t(6317),h=t(19139),m=t(72803),u=t(46409),g=t(2914),b=t(64207),p=t(49108),f=t(37805),j=t(22169);let v=b.fC,N=b.xz,y=b.VY;function w(e){let{date:s,setDate:t,placeholder:b="Pick a date",className:w}=e,[k,S]=l.useState(new Date),C=(0,r.N)(k),Z=(0,i.V)(C),P=(0,n.z)(C),R=(0,o.v)(Z),_=(0,c.D)({start:P,end:R}),M=e=>{t(e)};return(0,a.jsxs)(v,{children:[(0,a.jsx)(N,{asChild:!0,children:(0,a.jsx)("div",{className:(0,j.cn)("cursor-pointer flex items-center gap-2",w),children:(0,a.jsx)("span",{className:(0,j.cn)("text-lg font-medium outline-none bg-transparent whitespace-nowrap",!s&&"text-white/50"),children:s?(0,h.WU)(s,"MMM dd, yyyy"):b})})}),(0,a.jsxs)(y,{className:"z-50 w-72 p-4 bg-black/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-xl text-white mt-2",align:"start",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),S((0,d.W)(k,1))},className:"p-1 hover:bg-white/10 rounded-full transition",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"font-bold text-lg",children:(0,h.WU)(k,"MMMM yyyy")}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),S((0,x.z)(k,1))},className:"p-1 hover:bg-white/10 rounded-full transition",children:(0,a.jsx)(f.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 mb-2 text-center",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>(0,a.jsx)("div",{className:"text-xs font-bold text-white/50 uppercase",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center",children:_.map((e,t)=>{let l=s&&(0,m.K)(e,s),r=(0,u.x)(e,k),i=(0,g.z)(e);return(0,a.jsx)("button",{onClick:()=>M(e),disabled:!r,className:(0,j.cn)("h-9 w-9 rounded-full flex items-center justify-center text-sm transition-all",!r&&"text-white/20 opacity-50 cursor-default",r&&"hover:bg-white/10 cursor-pointer",l&&"bg-blue-600 text-white font-bold hover:bg-blue-700 shadow-[0_0_10px_rgba(37,99,235,0.5)]",i&&!l&&"border border-blue-500 text-blue-400"),children:(0,h.WU)(e,"d")},t)})})]})]})}},79173:function(e,s,t){"use strict";t.d(s,{Bw:function(){return g},Ph:function(){return d},Ql:function(){return b},i4:function(){return h},ki:function(){return x}});var a=t(57437),l=t(2265),r=t(71765),i=t(23441),n=t(85159),o=t(80037),c=t(22169);let d=r.fC;r.ZA;let x=r.B4,h=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(r.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[l,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=r.xz.displayName;let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})});m.displayName=r.u_.displayName;let u=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});u.displayName=r.$G.displayName;let g=l.forwardRef((e,s)=>{let{className:t,children:l,position:i="popper",...n}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-white/10 bg-black/90 backdrop-blur-xl text-white shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,a.jsx)(m,{}),(0,a.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(u,{})]})})});g.displayName=r.VY.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold text-white/70",t),...l})}).displayName=r.__.displayName;let b=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(r.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-pointer select-none items-center rounded-lg py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-white/10 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4 text-blue-400"})})}),(0,a.jsx)(r.eT,{children:l})]})});b.displayName=r.ck.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-white/10",t),...l})}).displayName=r.Z0.displayName},22169:function(e,s,t){"use strict";t.d(s,{cn:function(){return r}});var a=t(75504),l=t(51367);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.m6)((0,a.W)(s))}}},function(e){e.O(0,[5250,2714,5413,2971,8069,1744],function(){return e(e.s=37415)}),_N_E=e.O()}]);