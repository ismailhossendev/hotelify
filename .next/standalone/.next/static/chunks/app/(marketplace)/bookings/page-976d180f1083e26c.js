(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1577],{87061:function(e,t,s){Promise.resolve().then(s.bind(s,9741))},97307:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},62457:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},28670:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(25250),r=s.n(a)},47907:function(e,t,s){"use strict";var a=s(15313);s.o(a,"notFound")&&s.d(t,{notFound:function(){return a.notFound}}),s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},9741:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),r=s(2265),n=s(47907),l=s(19139),o=s(97307),c=s(28670),d=s(62457),i=s(8792);function u(){(0,n.useRouter)();let[e,t]=(0,r.useState)([]),[s,u]=(0,r.useState)(!0),[x,h]=(0,r.useState)("all");(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/bookings"),s=await e.json();s.success?t(s.bookings):e.status}catch(e){console.error("Failed to fetch bookings",e)}finally{u(!1)}})()},[]);let m=e.filter(e=>"all"===x||("upcoming"===x?"confirmed"===e.status&&new Date(e.checkIn)>new Date:"completed"===x?"completed"===e.status||"confirmed"===e.status&&new Date(e.checkOut)<new Date:"cancelled"!==x||"cancelled"===e.status)),g=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";case"completed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700"}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Bookings"}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-48 bg-white rounded-2xl animate-pulse"},e))})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-5xl",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Manage your upcoming stays and history"})]}),(0,a.jsx)("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-gray-100",children:["all","upcoming","completed","cancelled"].map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(x===e?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),0===m.length?(0,a.jsxs)("div",{className:"bg-white rounded-3xl p-12 text-center border border-gray-100 shadow-sm",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(o.Z,{className:"h-10 w-10 text-blue-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No bookings found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-8",children:"You haven't made any bookings in this category yet."}),(0,a.jsxs)(i.default,{href:"/hotels",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),"Browse Hotels"]})]}):(0,a.jsx)("div",{className:"space-y-6",children:m.map(e=>{var t,s,r,n,o;return(0,a.jsx)("div",{className:"bg-white rounded-3xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow group",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"relative h-48 md:h-full rounded-2xl overflow-hidden md:col-span-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center group-hover:scale-110 transition-transform duration-700",style:{backgroundImage:"url(".concat((null===(t=e.hotelId)||void 0===t?void 0:t.coverImage)||"https://images.unsplash.com/photo-1566073771259-6a8506099945",")")}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,a.jsx)("div",{className:"absolute top-3 left-3",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ".concat(g(e.status)),children:e.status})})]}),(0,a.jsxs)("div",{className:"md:col-span-3 flex flex-col justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:(null===(s=e.hotelId)||void 0===s?void 0:s.name)||"Unknown Hotel"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["à§³",null===(r=e.totalAmount)||void 0===r?void 0:r.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-4",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:(null===(o=e.hotelId)||void 0===o?void 0:null===(n=o.address)||void 0===n?void 0:n.city)||"Bangladesh"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 bg-gray-50 p-4 rounded-xl mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Check-in"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:(0,l.WU)(new Date(e.checkIn),"MMM dd, yyyy")}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"2:00 PM"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Check-out"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:(0,l.WU)(new Date(e.checkOut),"MMM dd, yyyy")}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"11:00 AM"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Guests"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:["object"==typeof e.guests?(e.guests.adults||0)+(e.guests.children||0):e.guests," Guests"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Booking ID"}),(0,a.jsx)("p",{className:"font-mono text-sm text-gray-600",children:e._id.slice(-6).toUpperCase()})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 justify-end border-t border-gray-100 pt-4",children:["confirmed"===e.status&&(0,a.jsx)("button",{className:"px-5 py-2 text-gray-600 hover:text-red-600 font-medium text-sm transition-colors border border-transparent hover:border-red-100 rounded-lg",children:"Cancel Booking"}),(0,a.jsx)("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl text-sm transition-colors shadow-lg shadow-blue-200",children:"View E-Ticket"})]})]})]})},e._id)})})]})})}}},function(e){e.O(0,[5250,2714,2971,8069,1744],function(){return e(e.s=87061)}),_N_E=e.O()}]);