(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{19228:function(e,t,s){Promise.resolve().then(s.bind(s,80085))},15570:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},90684:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},62457:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},85904:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},11213:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(70843).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},80085:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var l=s(57437),a=s(2265),n=s(11213),c=s(90684),r=s(85904),d=s(15570),i=s(62457),o=s(19139);function x(){var e;let[t,s]=(0,a.useState)(null),[x,m]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{fetch("/api/auth/me").then(e=>e.json()).then(e=>{e.success?(s(e.user),fetch("/api/bookings").then(e=>e.json()).then(e=>{e.success&&m(e.bookings),p(!1)})):window.location.href="/login"}).catch(e=>p(!1))},[]),u)?(0,l.jsx)("div",{className:"p-20 text-center",children:"Loading profile..."}):t?(0,l.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"My Account"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)("div",{className:"h-24 w-24 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-4",children:(0,l.jsx)(n.Z,{className:"h-10 w-10"})}),(0,l.jsx)("h2",{className:"text-xl font-bold",children:(null===(e=t.profile)||void 0===e?void 0:e.name)||"Guest User"}),(0,l.jsx)("p",{className:"text-gray-500 capitalize",children:t.role.replace("_"," ")})]}),(0,l.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,l.jsx)(c.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:t.email})]}),t.phone&&(0,l.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,l.jsx)(r.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{children:t.phone})]})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t",children:(0,l.jsx)("button",{className:"w-full border border-gray-300 rounded-lg py-2 font-medium hover:bg-gray-50 text-gray-700",children:"Edit Profile"})})]})}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,l.jsx)(d.Z,{className:"h-5 w-5 text-blue-600"}),"Booking History"]}),(0,l.jsx)("div",{className:"space-y-4",children:0===x.length?(0,l.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border shadow-sm",children:[(0,l.jsx)("div",{className:"text-gray-400 mb-2",children:"No bookings found"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"You haven't made any reservations yet."})]}):x.map(e=>{var t,s;return(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border flex flex-col md:flex-row gap-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-bold text-lg",children:(null===(t=e.roomId)||void 0===t?void 0:t.name)||"Hotel Room"}),(0,l.jsx)(h,{status:e.status})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 mb-4 flex items-center gap-2",children:[(0,l.jsx)(i.Z,{className:"h-4 w-4"}),(null===(s=e.hotelId)||void 0===s?void 0:s.name)||"Hotelify Property"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm bg-gray-50 p-3 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500 block text-xs uppercase font-bold",children:"Check-in"}),(0,l.jsx)("span",{children:(0,o.WU)(new Date(e.checkIn),"MMM d, yyyy")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-500 block text-xs uppercase font-bold",children:"Check-out"}),(0,l.jsx)("span",{children:(0,o.WU)(new Date(e.checkOut),"MMM d, yyyy")})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-between items-end border-t md:border-t-0 md:border-l pt-4 md:pt-0 md:pl-6 border-gray-100 min-w-[150px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-gray-400 block text-right",children:"Total Paid"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-blue-600 text-right",children:["BDT ",e.pricing.totalAmount]})]}),(0,l.jsx)("button",{className:"text-sm text-blue-600 hover:underline mt-4",children:"Download Receipt"})]})]},e._id)})})]})]})]}):null}function h(e){let{status:t}=e;return(0,l.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold capitalize ".concat({confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700",checked_in:"bg-blue-100 text-blue-700",checked_out:"bg-gray-100 text-gray-700"}[t]||"bg-gray-100"),children:t.replace("_"," ")})}}},function(e){e.O(0,[2714,2971,8069,1744],function(){return e(e.s=19228)}),_N_E=e.O()}]);