(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3560],{18108:function(e,t,s){Promise.resolve().then(s.bind(s,18544))},51930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},37841:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},93832:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},62457:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},30438:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},42821:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},70094:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},70699:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},75879:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},3665:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},50489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},18544:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(57437),i=s(2265),l=s(79580),n=s(42821),r=s(75879),o=s(93832),c=s(62457),d=s(3665),m=s(30438),u=s(37841),x=s(51930),g=s(70094),h=s(50489),f=s(70699),b=s(28402);function p(){let[e,t]=(0,i.useState)(!0),[s,p]=(0,i.useState)(!1),[j,v]=(0,i.useState)([]),[y,N]=(0,i.useState)("hero"),[w,k]=(0,i.useState)({hero:{title:"",subtitle:"",backgroundImage:""},featured:{title:"",subtitle:"",hotels:[]},categories:{enabled:!0,title:"",subtitle:"",items:[]},destinations:{enabled:!0,title:"",subtitle:"",items:[]},offers:{enabled:!0,title:"",subtitle:"",items:[]},testimonials:{enabled:!0,title:"",subtitle:"",items:[]}});(0,i.useEffect)(()=>{Promise.all([fetch("/api/admin/site-config").then(e=>e.json()),fetch("/api/hotels").then(e=>e.json())]).then(e=>{let[s,a]=e;if(s.success&&s.config){var i,l,n;k({hero:s.config.hero||{title:"",subtitle:"",backgroundImage:""},featured:{title:(null===(i=s.config.featured)||void 0===i?void 0:i.title)||"",subtitle:(null===(l=s.config.featured)||void 0===l?void 0:l.subtitle)||"",hotels:(null===(n=s.config.featured)||void 0===n?void 0:n.hotels)||[]},categories:s.config.categories||{enabled:!0,title:"",subtitle:"",items:[]},destinations:s.config.destinations||{enabled:!0,title:"",subtitle:"",items:[]},offers:s.config.offers||{enabled:!0,title:"",subtitle:"",items:[]},testimonials:s.config.testimonials||{enabled:!0,title:"",subtitle:"",items:[]}})}a.success&&v(a.hotels),t(!1)})},[]);let C=async()=>{p(!0);try{let e=await fetch("/api/admin/site-config",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});(await e.json()).success?alert("Homepage settings updated successfully!"):alert("Failed to update settings")}catch(e){console.error(e),alert("Error updating settings")}finally{p(!1)}};if(e)return(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)(l.Z,{className:"animate-spin"})});let Z=[{id:"hero",label:"Hero Section",icon:n.Z},{id:"featured",label:"Featured Hotels",icon:r.Z},{id:"categories",label:"Categories",icon:o.Z},{id:"destinations",label:"Destinations",icon:c.Z},{id:"offers",label:"Offers & Deals",icon:d.Z},{id:"testimonials",label:"Testimonials",icon:m.Z}];return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Homepage Settings"}),(0,a.jsx)("div",{className:"bg-white border rounded-xl p-2",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Z.map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>N(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ".concat(y===e.id?"bg-blue-600 text-white":"hover:bg-gray-100 text-gray-700"),children:[(0,a.jsx)(t,{className:"h-4 w-4"}),e.label]},e.id)})})}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:["hero"===y&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold border-b pb-4 text-gray-900",children:"Hero Section"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.hero.title,onChange:e=>k({...w,hero:{...w.hero,title:e.target.value}}),placeholder:"Find your perfect stay"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Subtitle"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.hero.subtitle,onChange:e=>k({...w,hero:{...w.hero,subtitle:e.target.value}}),placeholder:"Search hundreds of hotels..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Background Image (1920x1080px)"}),(0,a.jsx)(b.Z,{images:w.hero.backgroundImage?[w.hero.backgroundImage]:[],onChange:e=>k({...w,hero:{...w.hero,backgroundImage:e[0]||""}}),maxImages:1})]})]}),"featured"===y&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold border-b pb-4 text-gray-900",children:"Featured Hotels"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Section Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.featured.title,onChange:e=>k({...w,featured:{...w.featured,title:e.target.value}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Select Hotels to Feature"}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4 max-h-96 overflow-y-auto p-4 bg-gray-50 rounded-lg",children:j.map(e=>{var t,s;return(0,a.jsxs)("label",{className:"flex items-start gap-3 p-3 bg-white border rounded-lg cursor-pointer hover:border-blue-500 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.featured.hotels.includes(e._id),onChange:()=>{let t=w.featured.hotels||[],s=t.includes(e._id)?t.filter(t=>t!==e._id):[...t,e._id];k({...w,featured:{...w.featured,hotels:s}})},className:"mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:null===(s=e.contact)||void 0===s?void 0:null===(t=s.address)||void 0===t?void 0:t.city})]})]},e._id)})})]})]}),"categories"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Browse by Category"}),(0,a.jsxs)("button",{onClick:()=>k({...w,categories:{...w.categories,enabled:!w.categories.enabled}}),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium ".concat(w.categories.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:[w.categories.enabled?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):(0,a.jsx)(x.Z,{className:"h-4 w-4"}),w.categories.enabled?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Section Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.categories.title,onChange:e=>k({...w,categories:{...w.categories,title:e.target.value}}),placeholder:"Section Title"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Categories List"}),(0,a.jsxs)("button",{onClick:()=>k({...w,categories:{...w.categories,items:[...w.categories.items,{id:Date.now().toString(),name:"",description:"",icon:"Home",color:"bg-blue-500"}]}}),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"})," Add Category"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:w.categories.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 border rounded-lg bg-gray-50 items-start",children:[(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Name"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.name,onChange:e=>{let s=[...w.categories.items];s[t].name=e.target.value,k({...w,categories:{...w.categories,items:s}})},placeholder:"Category Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Icon (Lucide Name)"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.icon,onChange:e=>{let s=[...w.categories.items];s[t].icon=e.target.value,k({...w,categories:{...w.categories,items:s}})},placeholder:"e.g. Home, Mountain"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Description"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.description,onChange:e=>{let s=[...w.categories.items];s[t].description=e.target.value,k({...w,categories:{...w.categories,items:s}})},placeholder:"Description"})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=w.categories.items.filter((e,s)=>s!==t);k({...w,categories:{...w.categories,items:e}})},className:"text-red-500 hover:text-red-700 mt-6",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]},t))})]})]}),"destinations"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Popular Destinations"}),(0,a.jsxs)("button",{onClick:()=>k({...w,destinations:{...w.destinations,enabled:!w.destinations.enabled}}),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium ".concat(w.destinations.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:[w.destinations.enabled?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):(0,a.jsx)(x.Z,{className:"h-4 w-4"}),w.destinations.enabled?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Section Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.destinations.title,onChange:e=>k({...w,destinations:{...w.destinations,title:e.target.value}}),placeholder:"Section Title"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Destinations List"}),(0,a.jsxs)("button",{onClick:()=>k({...w,destinations:{...w.destinations,items:[...w.destinations.items,{name:"",image:"",hotelCount:0,startingPrice:0}]}}),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"})," Add Destination"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:w.destinations.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 border rounded-lg bg-gray-50 items-start",children:[(0,a.jsx)("div",{className:"h-24 w-24 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:e.image?(0,a.jsx)("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"}):(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(c.Z,{className:"h-8 w-8"})})}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Destination Name"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.name,onChange:e=>{let s=[...w.destinations.items];s[t].name=e.target.value,k({...w,destinations:{...w.destinations,items:s}})},placeholder:"e.g. Cox's Bazar"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Starting Price"}),(0,a.jsx)("input",{type:"number",className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.startingPrice,onChange:e=>{let s=[...w.destinations.items];s[t].startingPrice=Number(e.target.value),k({...w,destinations:{...w.destinations,items:s}})},placeholder:"0"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Image URL"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.image,onChange:e=>{let s=[...w.destinations.items];s[t].image=e.target.value,k({...w,destinations:{...w.destinations,items:s}})},placeholder:"https://..."}),(0,a.jsx)(b.Z,{images:[],onChange:e=>{if(e[0]){let s=[...w.destinations.items];s[t].image=e[0],k({...w,destinations:{...w.destinations,items:s}})}},maxImages:1})]})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=w.destinations.items.filter((e,s)=>s!==t);k({...w,destinations:{...w.destinations,items:e}})},className:"text-red-500 hover:text-red-700 mt-6",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]},t))})]})]}),"offers"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Exclusive Offers & Deals"}),(0,a.jsxs)("button",{onClick:()=>k({...w,offers:{...w.offers,enabled:!w.offers.enabled}}),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium ".concat(w.offers.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:[w.offers.enabled?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):(0,a.jsx)(x.Z,{className:"h-4 w-4"}),w.offers.enabled?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Section Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.offers.title,onChange:e=>k({...w,offers:{...w.offers,title:e.target.value}}),placeholder:"Section Title"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Offers List"}),(0,a.jsxs)("button",{onClick:()=>k({...w,offers:{...w.offers,items:[...w.offers.items,{title:"",discount:"",description:"",promoCode:"",validUntil:"",image:""}]}}),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"})," Add Offer"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:w.offers.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 border rounded-lg bg-gray-50 items-start",children:[(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.title,onChange:e=>{let s=[...w.offers.items];s[t].title=e.target.value,k({...w,offers:{...w.offers,items:s}})},placeholder:"Offer Title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Discount"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.discount,onChange:e=>{let s=[...w.offers.items];s[t].discount=e.target.value,k({...w,offers:{...w.offers,items:s}})},placeholder:"e.g. 30% OFF"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Description"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.description,onChange:e=>{let s=[...w.offers.items];s[t].description=e.target.value,k({...w,offers:{...w.offers,items:s}})},placeholder:"Description"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Promo Code"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.promoCode,onChange:e=>{let s=[...w.offers.items];s[t].promoCode=e.target.value,k({...w,offers:{...w.offers,items:s}})},placeholder:"CODE123"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Valid Until"}),(0,a.jsx)("input",{type:"date",className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.validUntil,onChange:e=>{let s=[...w.offers.items];s[t].validUntil=e.target.value,k({...w,offers:{...w.offers,items:s}})}})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Background Image"}),(0,a.jsx)(b.Z,{images:e.image?[e.image]:[],onChange:e=>{let s=[...w.offers.items];s[t].image=e[0]||"",k({...w,offers:{...w.offers,items:s}})},maxImages:1})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=w.offers.items.filter((e,s)=>s!==t);k({...w,offers:{...w.offers,items:e}})},className:"text-red-500 hover:text-red-700 mt-6",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]},t))})]})]}),"testimonials"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Customer Testimonials"}),(0,a.jsxs)("button",{onClick:()=>k({...w,testimonials:{...w.testimonials,enabled:!w.testimonials.enabled}}),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium ".concat(w.testimonials.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:[w.testimonials.enabled?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):(0,a.jsx)(x.Z,{className:"h-4 w-4"}),w.testimonials.enabled?"Enabled":"Disabled"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Section Title"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-gray-900 bg-white",value:w.testimonials.title,onChange:e=>k({...w,testimonials:{...w.testimonials,title:e.target.value}}),placeholder:"Section Title"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Testimonials List"}),(0,a.jsxs)("button",{onClick:()=>k({...w,testimonials:{...w.testimonials,items:[...w.testimonials.items,{name:"",location:"",review:"",rating:5,hotel:"",avatar:""}]}}),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4"})," Add Testimonial"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:w.testimonials.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 border rounded-lg bg-gray-50 items-start",children:[(0,a.jsx)("div",{className:"h-16 w-16 bg-gray-200 rounded-full overflow-hidden flex-shrink-0",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"h-full w-full object-cover"}):(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(m.Z,{className:"h-6 w-6"})})}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Name"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.name,onChange:e=>{let s=[...w.testimonials.items];s[t].name=e.target.value,k({...w,testimonials:{...w.testimonials,items:s}})},placeholder:"Guest Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Location"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.location,onChange:e=>{let s=[...w.testimonials.items];s[t].location=e.target.value,k({...w,testimonials:{...w.testimonials,items:s}})},placeholder:"e.g. New York, USA"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Hotel Stayed"}),(0,a.jsx)("input",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white",value:e.hotel,onChange:e=>{let s=[...w.testimonials.items];s[t].hotel=e.target.value,k({...w,testimonials:{...w.testimonials,items:s}})},placeholder:"Hotel Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Rating (1-5)"}),(0,a.jsx)("div",{className:"flex items-center gap-2 p-2 bg-white border rounded",children:[1,2,3,4,5].map(s=>(0,a.jsx)("button",{onClick:()=>{let e=[...w.testimonials.items];e[t].rating=s,k({...w,testimonials:{...w.testimonials,items:e}})},children:(0,a.jsx)(r.Z,{className:"h-4 w-4 ".concat(s<=e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")})},s))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Review"}),(0,a.jsx)("textarea",{className:"w-full p-2 border rounded focus:ring-1 focus:ring-blue-500 text-sm text-gray-900 bg-white h-20",value:e.review,onChange:e=>{let s=[...w.testimonials.items];s[t].review=e.target.value,k({...w,testimonials:{...w.testimonials,items:s}})},placeholder:"Guest's review..."})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Avatar Image"}),(0,a.jsx)(b.Z,{images:e.avatar?[e.avatar]:[],onChange:e=>{let s=[...w.testimonials.items];s[t].avatar=e[0]||"",k({...w,testimonials:{...w.testimonials,items:s}})},maxImages:1})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=w.testimonials.items.filter((e,s)=>s!==t);k({...w,testimonials:{...w.testimonials,items:e}})},className:"text-red-500 hover:text-red-700 mt-6",children:(0,a.jsx)(h.Z,{className:"h-5 w-5"})})]},t))})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end sticky bottom-6 z-10",children:(0,a.jsxs)("button",{onClick:C,disabled:s,className:"flex items-center gap-2 bg-blue-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg disabled:opacity-70 transition-all border-2 border-white/20",children:[s?(0,a.jsx)(l.Z,{className:"animate-spin h-5 w-5"}):(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"Save Changes"]})})]})}},28402:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(57437),i=s(2265),l=s(52235),n=s(79580),r=s(10632),o=s(20703);function c(e){let{images:t=[],onChange:s,maxImages:c=5}=e,[d,m]=(0,i.useState)(!1),u=(0,i.useRef)(null),x=async e=>{var a;let i=null===(a=e.target.files)||void 0===a?void 0:a[0];if(i){if(t.length>=c){alert("Maximum ".concat(c," images allowed."));return}m(!0);try{let e=await h(i),a=new FormData;a.append("file",e);let l=await fetch("/api/upload",{method:"POST",body:a}),n=await l.json();n.success?s([...t,n.url]):alert("Upload failed: "+n.error)}catch(e){console.error(e),alert("Upload error")}finally{m(!1),u.current&&(u.current.value="")}}},g=async(e,a)=>{confirm("Delete this image?")&&(s(t.filter((e,t)=>t!==a)),await fetch("/api/upload",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}))},h=e=>new Promise((t,s)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=a=>{var i;let l=document.createElement("img");l.src=null===(i=a.target)||void 0===i?void 0:i.result,l.onload=()=>{let a=document.createElement("canvas"),i=1920/l.width,n=i<1?1920:l.width,r=i<1?l.height*i:l.height;a.width=n,a.height=r;let o=a.getContext("2d");null==o||o.drawImage(l,0,0,n,r),a.toBlob(e=>{e?t(e):s(Error("Canvas to Blob failed"))},e.type,.8)}},a.onerror=s});return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[t.map((e,t)=>(0,a.jsxs)("div",{className:"relative w-32 h-32 rounded-xl overflow-hidden border border-gray-200 group",children:[(0,a.jsx)(o.default,{src:e,alt:"Room ".concat(t+1),fill:!0,className:"object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>g(e,t),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(l.Z,{className:"h-3 w-3"})})]},t)),t.length<c&&(0,a.jsxs)("div",{onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},className:"w-32 h-32 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 hover:border-blue-400 transition-colors text-gray-400 hover:text-blue-500",children:[d?(0,a.jsx)(n.Z,{className:"h-6 w-6 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-xs font-bold",children:"Upload"})]}),(0,a.jsx)("input",{ref:u,type:"file",accept:"image/*",className:"hidden",onChange:x})]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[t.length," / ",c," images. Optimized automatically."]})]})}}},function(e){e.O(0,[7672,2971,8069,1744],function(){return e(e.s=18108)}),_N_E=e.O()}]);