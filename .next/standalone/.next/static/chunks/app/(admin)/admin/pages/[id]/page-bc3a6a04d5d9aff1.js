(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{98344:function(e,s,t){Promise.resolve().then(t.bind(t,40277))},40277:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(57437);t(56482),t(59776);var l=t(2265),r=t(47907),n=t(79580),i=t(53879),c=t(37451),o=t(70699),d=t(42821),g=t(28670),x=t(8792);function u(e){let{params:s}=e,t="new"===s.id,u=(0,r.useRouter)(),[h,m]=(0,l.useState)(!t),[p,b]=(0,l.useState)(!1),[f,y]=(0,l.useState)({title:"",slug:"",content:"",seoTitle:"",seoDescription:"",isActive:!0});(0,l.useEffect)(()=>{t||fetch("/api/admin/pages?id=".concat(s.id)).then(e=>e.json()).then(e=>{if(e.success&&e.pages){let t=e.pages.find(e=>e._id===s.id);t&&y(t)}}).finally(()=>m(!1))},[s.id,t]);let j=async()=>{if(!f.title||!f.slug)return alert("Title and Slug are required");b(!0);try{let e=t?f:{...f,_id:s.id},a=await fetch("/api/admin/pages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await a.json();l.success?u.push("/admin/pages"):alert(l.error)}catch(e){console.error(e)}finally{b(!1)}};return h?(0,a.jsx)("div",{className:"p-10",children:(0,a.jsx)(n.Z,{className:"animate-spin"})}):(0,a.jsxs)("div",{className:"space-y-6 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)(x.default,{href:"/admin/pages",className:"p-2 hover:bg-gray-800 rounded-lg text-gray-400 transition-colors",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:t?"Create New Page":"Edit Page"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Design your page content"})]}),(0,a.jsxs)("div",{className:"ml-auto flex gap-3",children:[!t&&(0,a.jsxs)("a",{href:"/".concat(f.slug),target:"_blank",className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"})," View Live"]}),(0,a.jsxs)("button",{onClick:j,disabled:p,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:[p?(0,a.jsx)(n.Z,{className:"animate-spin h-4 w-4"}):(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Save Changes"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-bold mb-2",children:"Page Title"}),(0,a.jsx)("input",{type:"text",value:f.title,onChange:e=>y({...f,title:e.target.value}),className:"w-full bg-gray-900 border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 outline-none text-lg font-bold",placeholder:"e.g. Terms & Conditions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-bold mb-2",children:"Content (HTML)"}),(0,a.jsx)("textarea",{value:f.content,onChange:e=>y({...f,content:e.target.value}),className:"w-full bg-gray-900 border-gray-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 outline-none font-mono text-sm h-[400px]",placeholder:"<p>Enter your page content here...</p>"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Basic HTML is supported."})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 space-y-4",children:[(0,a.jsxs)("h3",{className:"font-bold text-white border-b border-gray-700 pb-2 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-400"})," Page Settings"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-bold mb-2",children:"URL Slug"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-gray-900 border border-r-0 border-gray-700 text-gray-500 p-2 rounded-l-lg text-sm",children:"/"}),(0,a.jsx)("input",{type:"text",value:f.slug,onChange:e=>y({...f,slug:e.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full bg-gray-900 border-gray-700 rounded-r-lg p-2 text-white text-sm",placeholder:"about-us"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-300 text-sm font-medium",children:"Published Status"}),(0,a.jsx)("button",{onClick:()=>y({...f,isActive:!f.isActive}),className:"w-12 h-6 rounded-full transition-colors relative ".concat(f.isActive?"bg-green-500":"bg-gray-700"),children:(0,a.jsx)("span",{className:"absolute top-1 path-1 bg-white h-4 w-4 rounded-full transition-transform ".concat(f.isActive?"left-7":"left-1")})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700 space-y-4",children:[(0,a.jsxs)("h3",{className:"font-bold text-white border-b border-gray-700 pb-2 flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 text-orange-400"})," SEO Metadata"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-bold mb-2",children:"Meta Title"}),(0,a.jsx)("input",{type:"text",value:f.seoTitle||f.title,onChange:e=>y({...f,seoTitle:e.target.value}),className:"w-full bg-gray-900 border-gray-700 rounded-lg p-2 text-white text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm font-bold mb-2",children:"Meta Description"}),(0,a.jsx)("textarea",{value:f.seoDescription,onChange:e=>y({...f,seoDescription:e.target.value}),className:"w-full bg-gray-900 border-gray-700 rounded-lg p-2 text-white text-sm h-24 resize-none"})]})]})]})]})]})}}},function(e){e.O(0,[3572,7902,5250,7558,2971,8069,1744],function(){return e(e.s=98344)}),_N_E=e.O()}]);