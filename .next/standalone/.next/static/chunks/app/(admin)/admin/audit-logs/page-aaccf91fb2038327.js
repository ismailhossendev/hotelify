(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8176],{45704:function(e,t,s){Promise.resolve().then(s.bind(s,42666))},70843:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,...u},h)=>(0,a.createElement)("svg",{ref:h,...i,width:n,height:n,stroke:s,strokeWidth:c?24*Number(l)/Number(n):l,className:["lucide",`lucide-${r(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},26490:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},69475:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},79580:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},77326:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(70843).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},42666:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(57437),i=s(2265),r=s(79580),n=s(77326),l=s(26490),c=s(69475);function d(){let[e,t]=(0,i.useState)([]),[s,d]=(0,i.useState)(!0),[o,u]=(0,i.useState)("");(0,i.useEffect)(()=>{fetch("/api/admin/audit-logs").then(e=>e.json()).then(e=>{e.success&&t(e.logs),d(!1)}).catch(()=>d(!1))},[]);let h=e.filter(e=>!o||e.action===o);return s?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)(r.Z,{className:"animate-spin text-purple-500"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Audit Logs"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Track system activities and security events"})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("select",{className:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 outline-none focus:border-gray-600",value:o,onChange:e=>u(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Actions"}),(0,a.jsx)("option",{value:"login",children:"Login"}),(0,a.jsx)("option",{value:"failed_login",children:"Failed Login"}),(0,a.jsx)("option",{value:"create",children:"Create"}),(0,a.jsx)("option",{value:"update",children:"Update"}),(0,a.jsx)("option",{value:"delete",children:"Delete"}),(0,a.jsx)("option",{value:"settings_change",children:"Settings Change"})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[h.map(e=>{var t,s,i,r;return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"mt-1 p-2 rounded-lg ".concat((r=e.action).includes("login")?"bg-blue-600":r.includes("fail")?"bg-red-600":r.includes("create")?"bg-green-600":r.includes("delete")?"bg-red-900":"bg-gray-600"),children:(0,a.jsx)(n.Z,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white capitalize",children:e.action.replace("_"," ")}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Performed by ",(0,a.jsx)("span",{className:"text-purple-400",children:(null===(s=e.userId)||void 0===s?void 0:null===(t=s.profile)||void 0===t?void 0:t.name)||(null===(i=e.userId)||void 0===i?void 0:i.email)||"System"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,a.jsx)(l.Z,{className:"h-3 w-3"}),new Date(e.createdAt).toLocaleString()]}),e.ipAddress&&(0,a.jsxs)("div",{className:"text-xs text-gray-600 mt-1 font-mono",children:["IP: ",e.ipAddress]})]})]}),e.description&&(0,a.jsxs)("div",{className:"mt-3 bg-gray-900/50 p-3 rounded-lg text-sm text-gray-300 flex gap-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.description]})]})]},e._id)}),0===h.length&&(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No logs found matching your criteria"})]})]})}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=45704)}),_N_E=e.O()}]);