(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4997],{83764:function(e,s,t){Promise.resolve().then(t.bind(t,78330))},70843:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:i="",children:c,...x},h)=>(0,a.createElement)("svg",{ref:h,...r,width:n,height:n,stroke:t,strokeWidth:d?24*Number(o)/Number(n):o,className:["lucide",`lucide-${l(e)}`,i].join(" "),...x},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},70094:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(70843).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},29910:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(70843).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(70843).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8792:function(e,s,t){"use strict";t.d(s,{default:function(){return r.a}});var a=t(25250),r=t.n(a)},78330:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(57437),r=t(2265),l=t(70094),n=t(50489),o=t(29910),d=t(8792);function i(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)([]),[c,x]=(0,r.useState)(!0),[h,m]=(0,r.useState)("types"),[u,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(""),[y,f]=(0,r.useState)(""),[j,v]=(0,r.useState)("");(0,r.useEffect)(()=>{Promise.all([fetch("/api/room-units").then(e=>e.json()),fetch("/api/rooms").then(e=>e.json())]).then(e=>{let[t,a]=e;t.success&&s(t.units),a.success&&(i(a.rooms),a.rooms.length>0&&v(a.rooms[0]._id)),x(!1)})},[]);let N=async()=>{y&&j&&(await fetch("/api/room-units",{method:"POST",body:JSON.stringify({hotelId:"677f50a0058e519c2a66e4a3",roomNos:y,roomTypeId:j})}),window.location.reload())};return c?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Room Management"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>m("units"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("units"===h?"bg-blue-600 text-white":"bg-white text-gray-600 border"),children:"Room Inventory"}),(0,a.jsx)("button",{onClick:()=>m("types"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("types"===h?"bg-blue-600 text-white":"bg-white text-gray-600 border"),children:"Room Types"})]})]}),"units"===h&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsxs)("button",{onClick:()=>{b(""),p(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-green-700 shadow-sm",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"})," Add Room Numbers"]})}),u&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-green-200 shadow-sm animate-in slide-in-from-top-2",children:[(0,a.jsx)("h3",{className:"font-bold mb-4",children:"Add Physical Rooms"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Room Type"}),(0,a.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2",value:j||g,onChange:e=>v(e.target.value),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select Type"}),t.map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Room Numbers (Comma Separated)"}),(0,a.jsx)("input",{className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g. 101, 102, 105",value:y,onChange:e=>f(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:"Cancel"}),(0,a.jsx)("button",{onClick:N,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700",children:"Save Rooms"})]})]}),(0,a.jsx)("div",{className:"space-y-8",children:t.map(s=>{let t=e.filter(e=>{var t;return(null===(t=e.roomTypeId)||void 0===t?void 0:t._id)===s._id||e.roomTypeId===s._id});return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b flex justify-between items-center",children:(0,a.jsxs)("h3",{className:"font-bold text-gray-800",children:[s.name," ",(0,a.jsxs)("span",{className:"text-gray-500 font-normal text-sm",children:["(",t.length," units)"]})]})}),(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-50/50 border-b text-xs uppercase",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 font-bold text-gray-500",children:"Room No"}),(0,a.jsx)("th",{className:"px-6 py-3 font-bold text-gray-500",children:"Floor"}),(0,a.jsx)("th",{className:"px-6 py-3 font-bold text-gray-500",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 font-bold text-gray-500 text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y",children:t.length>0?t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-3",children:(0,a.jsx)("span",{className:"font-bold text-gray-800",children:e.roomNo})}),(0,a.jsx)("td",{className:"px-6 py-3 text-gray-600",children:e.floor||"1st"}),(0,a.jsx)("td",{className:"px-6 py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold uppercase ".concat("clean"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-3 text-right",children:(0,a.jsx)("button",{className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})})]},e._id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400 text-sm",children:"No inventory added for this category."})})})]})]},s._id)})})]}),"types"===h&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-blue-900",children:"Room Strategy"}),(0,a.jsx)("p",{className:"text-blue-700 mt-1",children:"Define your room categories, set prices, and manage inventory."})]}),(0,a.jsxs)(d.default,{href:"/rooms/new",className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-600/20 flex items-center gap-2 transition-transform hover:scale-105",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5"})," New Room Category"]})]}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>{var t,r,n;let i=e.filter(e=>{var t;return(null===(t=e.roomTypeId)||void 0===t?void 0:t._id)===s._id||e.roomTypeId===s._id}).length,c=(null===(r=s.images)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.url)||"https://placehold.co/600x400?text=No+Image";return(0,a.jsxs)("div",{className:"bg-white group hover:shadow-xl transition-all duration-300 rounded-2xl border border-gray-100 overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"h-48 bg-gray-100 relative overflow-hidden",children:[(0,a.jsx)("img",{src:c,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold shadow-sm",children:[i," Units"]})]}),(0,a.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-bold text-xl mb-1 text-gray-900",children:s.name}),(0,a.jsx)("p",{className:"text-gray-500 text-sm line-clamp-2",children:s.description||"No description provided."})]}),(0,a.jsxs)("div",{className:"mt-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end border-b pb-4 border-dashed",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase font-bold",children:"Base Price"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["à§³",s.basePrice]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase font-bold",children:"Capacity"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[(null===(n=s.capacity)||void 0===n?void 0:n.adults)||2," Adults"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(d.default,{href:"/rooms/".concat(s._id,"/pricing"),className:"flex items-center justify-center gap-2 py-2.5 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 font-bold text-sm transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"})," Pricing"]}),(0,a.jsx)(d.default,{href:"/rooms/".concat(s._id,"/edit"),className:"flex items-center justify-center gap-2 py-2.5 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 font-bold text-sm transition-colors",children:"Edit Details"}),(0,a.jsxs)("button",{onClick:()=>{b(s._id),v(s._id),m("units"),p(!0)},className:"col-span-2 flex items-center justify-center gap-2 py-2.5 border border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-green-500 hover:text-green-600 font-medium text-sm transition-colors",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"})," Add Inventory"]})]})]})]})]},s._id)})})]})]})}}},function(e){e.O(0,[5250,2971,8069,1744],function(){return e(e.s=83764)}),_N_E=e.O()}]);