(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5277],{69121:function(e,t,s){Promise.resolve().then(s.bind(s,30799))},70843:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,...u},m)=>(0,r.createElement)("svg",{ref:m,...n,width:i,height:i,stroke:s,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide",`lucide-${a(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},62985:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(70843).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},34187:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(70843).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79580:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(70843).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},51652:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(70843).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(25250),n=s.n(r)},47907:function(e,t,s){"use strict";var r=s(15313);s.o(r,"notFound")&&s.d(t,{notFound:function(){return r.notFound}}),s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},30799:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(57437),n=s(2265),a=s(47907),i=s(8792),l=s(62985),o=s(34187),d=s(51652),c=s(79580);function u(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)().get("token"),[s,u]=(0,n.useState)(""),[m,f]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[b,w]=(0,n.useState)(""),y=async r=>{if(r.preventDefault(),s!==m){w("Passwords do not match");return}if(s.length<6){w("Password must be at least 6 characters");return}h(!0),w("");try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:s})}),n=await r.json();if(!r.ok)throw Error(n.error||"Reset failed");g(!0),setTimeout(()=>{e.push("/login")},3e3)}catch(e){w(e.message)}finally{h(!1)}};return t?p?(0,r.jsxs)("div",{className:"text-center p-8 animate-in fade-in zoom-in duration-300",children:[(0,r.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:(0,r.jsx)(o.Z,{className:"h-6 w-6 text-green-600"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Password Reset!"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"Your password has been successfully updated. Redirecting to login..."}),(0,r.jsx)(i.default,{href:"/login",className:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Return to Login"})]}):(0,r.jsxs)("form",{className:"space-y-6",onSubmit:y,children:[b&&(0,r.jsx)("div",{className:"rounded-lg bg-red-50 p-4 border border-red-100 text-sm text-red-700 text-center",children:b}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 pb-1",children:"New Password"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all",placeholder:"••••••••",value:s,onChange:e=>u(e.target.value)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 pb-1",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"appearance-none block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm transition-all",placeholder:"••••••••",value:m,onChange:e=>f(e.target.value)})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:x?(0,r.jsx)(c.Z,{className:"h-5 w-5 animate-spin"}):"Set new password"})})]}):(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:(0,r.jsx)(l.Z,{className:"h-6 w-6 text-red-600"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Invalid Link"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2 mb-6",children:"This password reset link is invalid or missing."}),(0,r.jsx)(i.default,{href:"/forgot-password",className:"text-blue-600 hover:underline font-medium",children:"Request a new link"})]})}function m(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 font-sans",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto h-12 w-12 relative mb-4",children:(0,r.jsx)("img",{src:"/logo.png",alt:"Hotelify",className:"w-full h-full object-contain"})}),(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Set new password"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Must be at least 6 characters."})]}),(0,r.jsx)("div",{className:"bg-white py-8 px-4 shadow-xl shadow-gray-200/50 border border-gray-100 sm:rounded-2xl sm:px-10",children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)(c.Z,{className:"animate-spin text-blue-600"})}),children:(0,r.jsx)(u,{})})})]})})}}},function(e){e.O(0,[5250,2971,8069,1744],function(){return e(e.s=69121)}),_N_E=e.O()}]);