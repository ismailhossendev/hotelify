(()=>{var e={};e.id=723,e.ids=[723],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},12781:e=>{"use strict";e.exports=require("stream")},73837:e=>{"use strict";e.exports=require("util")},96680:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var s=t(50482),a=t(69108),i=t(62563),n=t.n(i),l=t(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(r,d);let o=["",{children:["vendor",{children:["rooms",{children:["[id]",{children:["pricing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,77022)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\rooms\\[id]\\pricing\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,91228)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,21342)),"C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\src\\app\\vendor\\rooms\\[id]\\pricing\\page.tsx"],u="/vendor/rooms/[id]/pricing/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/vendor/rooms/[id]/pricing/page",pathname:"/vendor/rooms/[id]/pricing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},90821:(e,r,t)=>{Promise.resolve().then(t.bind(t,82307))},56389:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(73098).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},31498:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(73098).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},82307:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var s=t(95344),a=t(3729),i=t(94490),n=t(98575),l=t(60631),d=t(74727),o=t(98037),c=t(35705),u=t(53326),p=t(83701);function x(e,r,t){return(0,p.z)(e,12*r,t)}var g=t(6730),m=t(10077),h=t(1707),b=t(56389),v=t(63024),y=t(31498),f=t(8428);function j({params:e}){let r=(0,f.useRouter)(),[t,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(!0),[k,M]=(0,a.useState)(!1),[S,C]=(0,a.useState)("month"),[P,$]=(0,a.useState)(new Date),[q,D]=(0,a.useState)(null),[_,Z]=(0,a.useState)(""),[W,U]=(0,a.useState)(0),[z,R]=(0,a.useState)(0),[T,A]=(0,a.useState)(!0);(0,a.useEffect)(()=>{fetch(`/api/rooms/${e.id}`).then(e=>e.json()).then(e=>{if(e.success){let r=e.room;j(r),U(r.basePrice),R(r.weekendPricing?.price||r.basePrice),A(r.weekendPricing?.enabled??!0)}w(!1)})},[e.id]);let F=(0,a.useMemo)(()=>(0,i.D)({start:(0,n.N)(P),end:(0,l.V)(P)}),[P]),L=e=>{if(!t)return{price:0,type:"loading"};let r=t.specialRates?.find(r=>d.K(new Date(r.date),e));if(r)return{price:r.price,type:"special"};let s=5===(0,o.Q)(e,void 0).getDay()||6===(0,o.Q)(e,void 0).getDay();return T&&s?{price:z,type:"weekend"}:{price:W,type:"base"}},H=async()=>{M(!0),await fetch(`/api/rooms/${e.id}/pricing`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({basePrice:W,weekendPricing:{enabled:T,price:z,days:[5,6]}})}),M(!1),alert("Pricing Updated!")},O=async()=>{if(!q||!_)return;let r={date:q,price:parseInt(_),note:"Manual Override"},s=[...t.specialRates||[],r];await fetch(`/api/rooms/${e.id}/pricing`,{method:"POST",body:JSON.stringify({specialRates:s})}),j({...t,specialRates:s}),D(null),Z("")};return N?s.jsx("div",{className:"flex justify-center p-10",children:s.jsx(b.Z,{className:"animate-spin"})}):(0,s.jsxs)("div",{className:"space-y-6 max-w-6xl mx-auto pb-20",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>r.back(),className:"p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(v.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold",children:["Pricing Manager: ",t.name]}),s.jsx("p",{className:"text-gray-500",children:"Set dynamic rates for seasons and weekends"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>C("month"),className:`px-3 py-1 rounded text-sm font-bold transition-all ${"month"===S?"bg-white shadow text-blue-600":"text-gray-500"}`,children:"Month"}),s.jsx("button",{onClick:()=>C("year"),className:`px-3 py-1 rounded text-sm font-bold transition-all ${"year"===S?"bg-white shadow text-blue-600":"text-gray-500"}`,children:"Year"})]}),s.jsx("h2",{className:"font-bold text-lg",children:"month"===S?(0,c.WU)(P,"MMMM yyyy"):(0,c.WU)(P,"yyyy")})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>$(e=>"month"===S?(0,u.W)(e,1):x(e,-1,void 0)),className:"p-2 border rounded-lg hover:bg-gray-50",children:"←"}),s.jsx("button",{onClick:()=>$(e=>"month"===S?(0,p.z)(e,1):x(e,1)),className:"p-2 border rounded-lg hover:bg-gray-50",children:"→"})]})]}),"year"===S?s.jsx("div",{className:"grid grid-cols-3 gap-6",children:(function(e,r){let{start:t,end:s}=(0,g.T)(r?.in,e),a=+t>+s,i=a?+t:+s,n=a?s:t;n.setHours(0,0,0,0),n.setDate(1);let l=r?.step??1;if(!l)return[];l<0&&(l=-l,a=!a);let d=[];for(;+n<=i;)d.push((0,m.L)(t,n)),n.setMonth(n.getMonth()+l);return a?d.reverse():d})({start:(0,h.e)(P),end:function(e,r){let t=(0,o.Q)(e,void 0),s=t.getFullYear();return t.setFullYear(s+1,0,0),t.setHours(23,59,59,999),t}(P)}).map(e=>(0,s.jsxs)("div",{className:"border rounded-xl p-3 hover:border-blue-300 cursor-pointer transition-colors",onClick:()=>{$(e),C("month")},children:[s.jsx("h3",{className:"font-bold text-center text-sm mb-2",children:(0,c.WU)(e,"MMMM")}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-0.5 text-[0.6rem] text-center text-gray-400 mb-1",children:[s.jsx("div",{children:"S"}),s.jsx("div",{children:"M"}),s.jsx("div",{children:"T"}),s.jsx("div",{children:"W"}),s.jsx("div",{children:"T"}),s.jsx("div",{className:"text-red-300",children:"F"}),s.jsx("div",{className:"text-red-300",children:"S"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-0.5",children:[Array.from({length:(0,n.N)(e).getDay()}).map((e,r)=>s.jsx("div",{},`empty-${r}`)),(0,i.D)({start:(0,n.N)(e),end:(0,l.V)(e)}).map(e=>{let{type:r}=L(e),t="bg-gray-100 text-gray-400";return"special"===r?t="bg-purple-500 text-white":"weekend"===r?t="bg-orange-400 text-white":"base"===r&&(t="bg-blue-50 text-blue-900"),s.jsx("div",{className:`aspect-square flex items-center justify-center rounded-[2px] text-[0.6rem] ${t}`,children:(0,c.WU)(e,"d")},e.toString())})]})]},e.toString()))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center text-sm font-bold text-gray-400",children:[s.jsx("div",{children:"Sun"}),s.jsx("div",{children:"Mon"}),s.jsx("div",{children:"Tue"}),s.jsx("div",{children:"Wed"}),s.jsx("div",{children:"Thu"}),s.jsx("div",{className:"text-red-400",children:"Fri"}),s.jsx("div",{className:"text-red-400",children:"Sat"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:F[0].getDay()}).map((e,r)=>s.jsx("div",{},`empty-${r}`)),F.map((e,r)=>{let{price:t,type:a}=L(e),i="weekend"===a,n="special"===a;return(0,s.jsxs)("div",{onClick:()=>D(e),className:`
                                                p-2 rounded-xl border text-center cursor-pointer transition-all hover:scale-105 active:scale-95
                                                ${n?"bg-purple-100 border-purple-300 ring-2 ring-purple-200":""}
                                                ${i?"bg-orange-50 border-orange-200":"bg-white border-gray-100"}
                                                ${(0,d.K)(e,new Date)?"ring-2 ring-blue-500 ring-offset-1":""}
                                                ${(0,d.K)(e,q||new Date(0))?"ring-2 ring-black ring-offset-1":""}
                                            `,children:[s.jsx("div",{className:`text-xs mb-1 ${i?"text-red-500 font-bold":"text-gray-500"}`,children:(0,c.WU)(e,"d")}),(0,s.jsxs)("div",{className:`text-sm font-bold ${n?"text-purple-700":i?"text-orange-700":"text-gray-700"}`,children:["৳",t]})]},r)})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex gap-6 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-white border border-gray-200"})," Regular"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-orange-50 border border-orange-200"})," Weekend"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-purple-100 border border-purple-200"})," Special Rate"]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[(0,s.jsxs)("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx(y.Z,{className:"h-5 w-5"})," Base Rules"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Base Price (Global)"}),s.jsx("input",{type:"number",value:W,onChange:e=>U(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Weekend Surge"}),s.jsx("input",{type:"checkbox",checked:T,onChange:e=>A(e.target.checked),className:"h-5 w-5 text-blue-600 rounded"})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Applies to Friday & Saturday"}),s.jsx("input",{type:"number",value:z,disabled:!T,onChange:e=>R(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 disabled:bg-gray-100 disabled:text-gray-400"})]}),s.jsx("button",{onClick:H,disabled:k,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors",children:k?"Saving...":"Save Default Rates"})]})]}),q&&(0,s.jsxs)("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100 animate-in slide-in-from-right",children:[(0,s.jsxs)("h3",{className:"font-bold mb-2 text-purple-900",children:["Set Rate for ",(0,c.WU)(q,"MMM d")]}),s.jsx("p",{className:"text-xs text-purple-700 mb-4",children:"Override base & weekend rates for this specific date."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"New Price",className:"flex-1 border border-purple-200 rounded-lg px-3 py-2",value:_,onChange:e=>Z(e.target.value)}),s.jsx("button",{onClick:O,className:"bg-purple-600 text-white px-4 rounded-lg font-bold hover:bg-purple-700",children:"Set"})]}),s.jsx("button",{onClick:()=>D(null),className:"text-xs text-center w-full mt-2 text-gray-500 hover:underline",children:"Cancel"})]})]})]})]})}},99365:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(40002),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,r)=>{let t=(0,s.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:c,...u},p)=>(0,s.createElement)("svg",{ref:p,...a,width:n,height:n,stroke:t,strokeWidth:d?24*Number(l)/Number(n):l,className:["lucide",`lucide-${i(e)}`,o].join(" "),...u},[...r.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},68631:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(99365).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},66506:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(99365).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},78953:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(99365).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},16274:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(48026),a=t.n(s)},48026:(e,r,t)=>{"use strict";let{createProxy:s}=t(86843);e.exports=s("C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\node_modules\\next\\dist\\client\\link.js")},77022:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,t(86843).createProxy)(String.raw`C:\Users\ismai\.gemini\antigravity\playground\primal-supernova\src\app\vendor\rooms\[id]\pricing\page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default},6730:(e,r,t)=>{"use strict";t.d(r,{T:()=>a});var s=t(84951);function a(e,r){let[t,a]=(0,s.d)(e,r.start,r.end);return{start:t,end:a}}},83701:(e,r,t)=>{"use strict";t.d(r,{z:()=>i});var s=t(10077),a=t(98037);function i(e,r,t){let i=(0,a.Q)(e,t?.in);if(isNaN(r))return(0,s.L)(t?.in||e,NaN);if(!r)return i;let n=i.getDate(),l=(0,s.L)(t?.in||e,i.getTime());return(l.setMonth(i.getMonth()+r+1,0),n>=l.getDate())?l:(i.setFullYear(l.getFullYear(),l.getMonth(),n),i)}},94490:(e,r,t)=>{"use strict";t.d(r,{D:()=>i});var s=t(6730),a=t(10077);function i(e,r){let{start:t,end:i}=(0,s.T)(r?.in,e),n=+t>+i,l=n?+t:+i,d=n?i:t;d.setHours(0,0,0,0);let o=r?.step??1;if(!o)return[];o<0&&(o=-o,n=!n);let c=[];for(;+d<=l;)c.push((0,a.L)(t,d)),d.setDate(d.getDate()+o),d.setHours(0,0,0,0);return n?c.reverse():c}},60631:(e,r,t)=>{"use strict";t.d(r,{V:()=>a});var s=t(98037);function a(e,r){let t=(0,s.Q)(e,r?.in),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}},74727:(e,r,t)=>{"use strict";t.d(r,{K:()=>i});var s=t(84951),a=t(27087);function i(e,r,t){let[i,n]=(0,s.d)(t?.in,e,r);return+(0,a.b)(i)==+(0,a.b)(n)}},98575:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var s=t(98037);function a(e,r){let t=(0,s.Q)(e,r?.in);return t.setDate(1),t.setHours(0,0,0,0),t}},53326:(e,r,t)=>{"use strict";t.d(r,{W:()=>a});var s=t(83701);function a(e,r,t){return(0,s.z)(e,-r,t)}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1638,7439,6082,7217,1476,867,4298,1091],()=>t(96680));module.exports=s})();