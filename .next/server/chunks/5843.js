"use strict";exports.id=5843,exports.ids=[5843],exports.modules={73098:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(3729),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,...p},x)=>(0,a.createElement)("svg",{ref:x,...r,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,o].join(" "),...p},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},95269:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66262:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25545:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},56389:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},38852:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},66062:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]])},36135:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},18822:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},14513:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(73098).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},67616:(e,s,t)=>{t.d(s,{Z:()=>h});var a=t(95344),r=t(3729),l=t(25545),i=t(95269),n=t(66262),d=t(14513),o=t(18822),c=t(23485),p=t(66062),x=t(36135);function h({ticket:e,onClose:s,onRefresh:t}){let[h,u]=(0,r.useState)(""),[m,y]=(0,r.useState)(!1),g=(0,r.useRef)(null),f=()=>{g.current?.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{f()},[e.messages]);let b=async s=>{if(s.preventDefault(),h.trim()){y(!0);try{let s=await fetch(`/api/tickets/${e._id}/reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:h})});(await s.json()).success?(u(""),t()):alert("Failed to send reply")}catch(e){console.error(e)}finally{y(!1)}}},v=async s=>{try{(await fetch(`/api/tickets/${e._id}/reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:`Status changed to ${s}`,status:s})})).ok&&t()}catch(e){console.error(e)}};return a.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b flex justify-between items-start bg-gray-50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${(e=>{switch(e){case"open":return"bg-green-100 text-green-700";case"in_progress":return"bg-yellow-100 text-yellow-700";case"resolved":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}})(e.status)}`,children:e.status.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:["#",e._id.slice(-6).toUpperCase()]})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(l.Z,{className:"h-4 w-4"}),new Date(e.createdAt).toLocaleString()]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(i.Z,{className:"h-4 w-4"}),e.priority.toUpperCase()," priority"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 capitalize",children:[a.jsx(n.Z,{className:"h-4 w-4"}),e.category]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("select",{className:"bg-white border text-sm rounded-lg px-3 py-2 outline-none",value:e.status,onChange:e=>v(e.target.value),children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(d.Z,{className:"h-6 w-6"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-100",children:[e.messages.map((s,t)=>{"Support Agent"===s.senderName||s.senderName;let r=s.senderId===e.userId._id||s.senderId===e.userId;return a.jsx("div",{className:`flex ${r?"justify-start":"justify-end"}`,children:(0,a.jsxs)("div",{className:`max-w-[80%] rounded-2xl p-4 shadow-sm ${r?"bg-white text-gray-900 rounded-tl-none":"bg-blue-600 text-white rounded-tr-none"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 opacity-80 text-xs",children:[r?a.jsx(o.Z,{className:"h-3 w-3"}):a.jsx(c.Z,{className:"h-3 w-3"}),a.jsx("span",{className:"font-bold",children:s.senderName}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:new Date(s.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:s.message})]})},t)}),a.jsx("div",{ref:g})]}),a.jsx("div",{className:"p-4 bg-white border-t",children:(0,a.jsxs)("form",{onSubmit:b,className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx("textarea",{className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 pr-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none h-[60px]",placeholder:"Type your reply...",value:h,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b(e))}}),a.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a.jsx(p.Z,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"submit",disabled:m||!h.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center aspect-square h-[60px]",children:m?a.jsx(l.Z,{className:"h-6 w-6 animate-spin"}):a.jsx(x.Z,{className:"h-6 w-6"})})]})})]})})}},99365:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(40002),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:o="",children:c,...p},x)=>(0,a.createElement)("svg",{ref:x,...r,width:i,height:i,stroke:t,strokeWidth:d?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,o].join(" "),...p},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},68631:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(99365).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},66506:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(99365).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},78953:(e,s,t)=>{t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(99365).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},16274:(e,s,t)=>{t.d(s,{default:()=>r.a});var a=t(48026),r=t.n(a)},48026:(e,s,t)=>{let{createProxy:a}=t(86843);e.exports=a("C:\\Users\\ismai\\.gemini\\antigravity\\playground\\primal-supernova\\node_modules\\next\\dist\\client\\link.js")}};