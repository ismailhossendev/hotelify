"use strict";exports.id=7905,exports.ids=[7905,5623],exports.modules={5623:(e,s,t)=>{t.d(s,{SystemConfig:()=>a});var o=t(11185),r=t.n(o);let n=new(r()).Schema({key:{type:String,unique:!0,required:!0},value:{type:r().Schema.Types.Mixed}},{timestamps:!0}),a=r().models.SystemConfig||r().model("SystemConfig",n)},27905:(e,s,t)=>{t.d(s,{sendEmail:()=>n});var o=t(68140),r=t(5623);async function n({to:e,subject:s,text:t,html:n}){try{let a=await r.SystemConfig.findOne({key:"platform_config"}),m=a?a.value:{};if(!m.smtpHost||!m.smtpUser||!m.smtpPass)return console.warn("SMTP Settings not configured. Email to",e,"subject",s,"was not sent."),console.warn("Content:",t),!1;let i=o.createTransport({host:m.smtpHost,port:Number(m.smtpPort)||587,secure:m.smtpSecure||!1,auth:{user:m.smtpUser,pass:m.smtpPass}}),l=await i.sendMail({from:m.smtpFrom||'"Hotelify" <no-reply@hotelify.com>',to:e,subject:s,text:t,html:n});return console.log("Message sent: %s",l.messageId),!0}catch(e){return console.error("Error sending email:",e),!1}}}};